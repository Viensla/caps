
var trajLine;

var trajCap = {
    line : '',
    curve : '',
    geo : '',
    sub : 20,
    initial : function(){
        var sub = 20;
        var geo = new THREE.Geometry();
        var curve = new THREE.QuadraticBezierCurve3();

        curve.v0 = new THREE.Vector3(0, 0, 0);
        curve.v1 = new THREE.Vector3(0, 10, -10);
        curve.v2 = new THREE.Vector3(0, 20, -100);

        for (var j = 0; j < sub; j++) {
           geo.vertices.push( curve.getPoint(j / sub) )
        }

        var material = new THREE.LineDashedMaterial( { color: 0xffffff, dashSize: 30, gapSize: 10, linewidth:2} );

        trajLine = new THREE.Line(geo, material, THREE.LinePieces);
        trajLine.position.z = 100;
        trajLine.position.y = 130;

        trajLine.__dirtyPosition = true;

        scene.add(trajLine);
    },

    calculate : function(pos1, pos2, pos3){

//        scene.remove(trajCap.line);
        /*
        console.log(pos1, pos2, pos3);

        trajCap.curve.v0 = pos1;
        trajCap.curve.v1 = pos2;
        trajCap.curve.v2 = pos3;

        for (var j = 0; j < trajCap.sub; j++) {
            trajCap.geo.vertices.push( trajCap.curve.getPoint(j /  trajCap.sub) )
        }


        var material = new THREE.LineDashedMaterial( { color: 0xffffff, dashSize: 30, gapSize: 10, linewidth: 2 } );
        trajCap.line = new THREE.Line(trajCap.geo, material, THREE.LinePieces);
        trajCap.line.__dirtyPosition = true;

        */

//        trajCap.line.position.set(pos1);
//        trajCap.line.__dirtyPosition = true;


        //scene.add(trajCap.line);


    }
}

