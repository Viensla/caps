/*! caps 11-06-2015 */
function render(){Party.isPlaying&&((Viensla.bottlecaps.position.y<=Viensla.bottle.position.y||Viensla.bottlecaps.position.y>Viensla.bottle.position.y+35||Viensla.bottlecaps.position.x>Viensla.bottle.position.x+7||Viensla.bottlecaps.position.x<Viensla.bottle.position.x-7||Viensla.bottlecaps.position.z>Viensla.bottle.position.z+7||Viensla.bottlecaps.position.z<Viensla.bottle.position.z-7)&&!Viensla.bottlecaps.capsed&&(Viensla.bottlecaps.capsed=!0,Viensla.bottlecaps.collided=!1,Party.plcaps()),(Player.bottlecaps.position.y<=Player.bottle.position.y||Player.bottlecaps.position.y>Player.bottle.position.y+35||Player.bottlecaps.position.x>Player.bottle.position.x+7||Player.bottlecaps.position.x<Player.bottle.position.x-7||Player.bottlecaps.position.z>Player.bottle.position.z+7||Player.bottlecaps.position.z<Player.bottle.position.z-7)&&!Player.bottlecaps.capsed&&(Player.bottlecaps.capsed=!0,Player.bottlecaps.collided=!1,CAPS.solo&&Party.vlcaps())),playedCaps&&Player.isPlaying&&!Viensla.isPlaying&&playedCaps.position.copy(DCMP),Viensla.cursor&&Viensla.liveVector&&(Viensla.cursor.__dirtyPosition=!1,Viensla.cursor.position.copy(Viensla.liveVector)),scene.simulate(void 0,2),camera.lookAt(lookat);var a=5e-4*Date.now();if(drunk_effect(a),Math.sin(2*a)>.5&&pointlightbar.animeLight(),phone)var b=toScreenPosition(phone,camera);TweenLite.set($("#txto-rc"),{y:b.y,x:b.x}),animateDust(a/10),renderer.render(scene,camera),fps=fpsStat.update(),quality=fps.med/60,Math.abs(quality-lastQuality)>.1&&(lastQuality=quality,onWindowResize()),requestAnimationFrame(render)}function animateDust(a){for(var b=0;b<dust.length;b++){var c=dust[b];c instanceof THREE.PointCloud&&(c.rotation.y=a*(4>b?b+1:-(b+1)))}}function drunk_effect(a){camera.initialpos.x+=Math.sin(2*a)*Player.drunked/70,camera.initialpos.y+=Math.cos(2*a)*Player.drunked/70,camera.initialpos.z+=Math.sin(2*a)*Player.drunked/70,camera.position.x+=.3*(20*mouse.x-camera.position.x)*3+camera.initialpos.x,camera.position.y+=1.5*(10*mouse.y-camera.position.y)+camera.initialpos.y+80}function onWindowResize(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,DPR>1?(renderer.setViewport(0,0,WIDTH/2,HEIGHT/2),renderer.setSize(WIDTH/1.5,HEIGHT/1.5),$(renderer.domElement).css({width:WIDTH,height:HEIGHT})):(renderer.setSize(WIDTH,HEIGHT),renderer.setViewport(0,0,WIDTH,HEIGHT)),camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix(),Interface.resize()}function toScreenPosition(a,b){var c=new THREE.Vector3,d=.5*WIDTH,e=.5*HEIGHT;return a.updateMatrixWorld(),c.setFromMatrixPosition(a.matrixWorld),c.project(b),c.x=c.x*d+d,c.y=-(c.y*e)+e,{x:Math.round(c.x),y:Math.round(c.y)}}function create_camera(){playerCamera=new THREE.PerspectiveCamera(VIEW_ANGLE,ASPECT,NEAR,FAR),playerCamera.initialpos=new THREE.Vector3(0,160,165),playerCamera.position.set(playerCamera.initialpos.x,playerCamera.initialpos.y,playerCamera.initialpos.z),playerCamera.lookAt(scene),scene.add(playerCamera),vlCamera=new THREE.PerspectiveCamera(VIEW_ANGLE,ASPECT,NEAR,FAR),vlCamera.initialpos=new THREE.Vector3(0,210,-170),vlCamera.position.set(vlCamera.initialpos.x,vlCamera.initialpos.y,vlCamera.initialpos.z),vlCamera.lookAt(scene),scene.add(vlCamera),lookat=new THREE.Vector3(0,50,-100),camera=playerCamera,mouse={x:0,y:0},document.addEventListener("mousemove",function(a){mouse.x=a.clientX/window.innerWidth-.5,mouse.y=a.clientY/window.innerHeight-.5,camera.position.x+=.3*(20*mouse.x-camera.position.x)*3+camera.initialpos.x,camera.position.y+=1.5*(10*mouse.y-camera.position.y)+camera.initialpos.y+80},!1)}function change_camera(){camera==playerCamera?(camera=vlCamera,camera.initialpos=vlCamPos,lookatobj=Player.bottle,globalDirection=-1):(camera=playerCamera,camera.initialpos=playerCamPos,lookatobj=Viensla.bottle,globalDirection=1)}function create_caps(a){var b=(Math.random()>.8,2);"undefined"==typeof a&&(a="pl");var c;c="pl"==a?Player.capmat.clone():Viensla.capmat.clone(),c.side=2,ball=new Physijs.CylinderMesh(geo_caps,c,b,{friction:1,restitution:.5}),ball.stopGravity=function(){var a,b=this,c=0;setTimeout(function(){b.material.materials[0].transparent=!0,b.material.materials[1].transparent=!0,a=setInterval(function(){b.material.materials[0].opacity=c%2==0?0:1,b.material.materials[1].opacity=c%2==0?0:1,c++,10==c&&(clearInterval(a),b.material.materials[0].opacity=1,b.material.materials[1].opacity=1,scene.remove(b))},200-c)},4e3)},ball.scale.set(capModelscale,capModelscale,capModelscale),ball.collisions=0,ball.addEventListener("collision",capCollision);var d=new Physijs.CylinderMesh(new THREE.CylinderGeometry(1.5,1.5,0,32,32),new THREE.MeshLambertMaterial({color:ball.material.materials[1].color,transparent:!0,opacity:1}),0);d.position.x=0,d.position.y=.3,d.position.z=0,ball.add(d);new Physijs.CylinderMesh(new THREE.SphereGeometry(2,32),new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:.6}),0);if(ball.position.y=50,ball.position.x=0,ball.position.z=playerDistance*globalDirection,ball.castShadow=!0,ball.receiveShadow=!0,scene.add(ball),elements.push(ball),playedCaps=ball,playedCaps.floating=!0,playedCaps.name="vl"==a?"viensla":"player",elements.length>4){var e=elements[0];e.stopGravity(),elements.splice(0,1)}}function setPower(){var a;a=setInterval(function(){holdingDown&&(power+=powerDir,power>100&&(powerDir=-speedbar),0>power&&(powerDir=+speedbar),TweenMax.set($(".powerbar .bar"),{height:power+"%"}))},10+Viensla.lives/10)}function animTypo(a,b){"undefined"==typeof b&&(b=300);var c=400;a.attr("class","capsIn1"),setTimeout(function(){a.attr("class","capsIn2"),setTimeout(function(){a.attr("class","capsIn3"),setTimeout(function(){a.attr("class","")},c)},c+b)},c)}function SelectText(a){var b,c,d=document,e=d.getElementById(a);d.body.createTextRange?(b=document.body.createTextRange(),b.moveToElementText(e),b.select()):window.getSelection&&(c=window.getSelection(),b=document.createRange(),b.selectNodeContents(e),c.removeAllRanges(),c.addRange(b))}function create_table(){level=new Physijs.BoxMesh(new THREE.BoxGeometry(1,1,1),new THREE.MeshPhongMaterial({color:ptpgrey}),0),level.position.x=0,level.position.y=0,level.position.z=0,level.castShadow=!1,level.receiveShadow=!1,level.name="level",_floor=new Physijs.BoxMesh(new THREE.CylinderGeometry(800,800,30,16),new THREE.MeshPhongMaterial({color:brown}),0),_floor.position.x=0,_floor.position.y=-1,_floor.position.z=0,_floor.castShadow=!1,_floor.receiveShadow=!0,_floor.name="floor",level.add(_floor);var a=THREE.Curve.create(function(a){this.scale=void 0===a?1:a},function(a){return new THREE.Vector3(0,a,0).multiplyScalar(this.scale)}),b=new a(200,100),c=new THREE.TubeGeometry(b,100,580,100,!0);_bar=new THREE.Mesh(c,new THREE.MeshBasicMaterial({color:brown,shininess:100,side:THREE.BackSide})),_bar.rotation.y=Math.PI/2,_bar.position.x=0,_bar.position.y=-90,_bar.position.z=100,_bar.castShadow=!0,_bar.receiveShadow=!0,_bar.name="bar",_bar.rotation.x=-.06,level.add(_bar);var d=THREE.ImageUtils.loadTexture("images/v2/bar_single.png");d.minFilter=THREE.LinearFilter,_wall=new Physijs.BoxMesh(new THREE.BoxGeometry(500,125,1),new THREE.MeshBasicMaterial({map:d,transparent:!0,opacity:1}),0),_wall.position.x=3,_wall.position.y=77,_wall.position.z=-435,_wall.castShadow=!0,_wall.receiveShadow=!0,_wall.rotation.x=-.06,level.add(_wall),d=THREE.ImageUtils.loadTexture("images/v2/bar-neon-orange.png"),d.minFilter=THREE.LinearFilter,_wall=new Physijs.BoxMesh(new THREE.BoxGeometry(119,68,1),new THREE.MeshPhongMaterial({map:d,transparent:!0,opacity:.7}),0),_wall.position.x=3,_wall.position.y=180,_wall.position.z=-600,_wall.castShadow=!0,_wall.receiveShadow=!0,level.add(_wall),d=THREE.ImageUtils.loadTexture("images/v2/armoires_back.png"),d.minFilter=THREE.LinearFilter,_wall=new Physijs.BoxMesh(new THREE.BoxGeometry(1712,335,10),new THREE.MeshPhongMaterial({map:d,transparent:!0,opacity:.2}),0),_wall.rotation.x=-.37,_wall.position.x=0,_wall.position.y=130,_wall.position.z=-600,_wall.castShadow=!0,_wall.receiveShadow=!0,level.add(_wall),_tapis=new Physijs.BoxMesh(new THREE.BoxGeometry(planeWIDTH,planeHEIGHT,35),new THREE.MeshPhongMaterial({color:mediumbrown}),0),_tapis.rotation.x=Math.PI/2,_tapis.position.x=0,_tapis.position.y=0,_tapis.position.z=0,_tapis.castShadow=!1,_tapis.receiveShadow=!1,_tapis.name="tapis";var e=new Physijs.BoxMesh(new THREE.CylinderGeometry(140,140,10,64),new THREE.MeshPhongMaterial({color:16777215,transparent:!0,opacity:.1}),0);e.rotation.x=Math.PI/2,e.position.y=-80,e.position.z=-10,_tapis.add(e);var f=new Physijs.BoxMesh(new THREE.CylinderGeometry(90,90,2,64),new THREE.MeshPhongMaterial({color:263172,transparent:!0,opacity:.05}),0);f.scale.set(1,1,.4),f.rotation.x=Math.PI/2,f.position.y=-130,f.position.z=-17,_tapis.add(f),scene.add(_tapis);var g=new THREE.BoxGeometry(tablefootSurfaceDim[0],tablefootSurfaceDim[1]+10,tablefootSurfaceDim[2]);_tablefoot=new Physijs.BoxMesh(g,new THREE.MeshPhongMaterial({color:tablefootbrown}),0);var h=new Physijs.BoxMesh(g,new THREE.MeshPhongMaterial({color:0}),0);h.position.z=-.5,h.scale.set(1.01,1.05,1.05),_tablefoot.castShadow=!0,_tablefoot.receiveShadow=!0,_tablefoot.rotation.x=.3,_tablefoot.position.x=0,_tablefoot.position.y=tablefootSurfaceDim[1]-6.3,_tablefoot.position.z=-110,level.add(_tablefoot);var i=new THREE.BoxGeometry(tableSurfaceDim[0],tableSurfaceDim[1],tableSurfaceDim[2]);_table=new Physijs.BoxMesh(i,new THREE.MeshPhongMaterial({color:tablebrown}),0);var j=new Physijs.BoxMesh(i,new THREE.MeshLambertMaterial({color:0}),0);j.position.z=-2,j.position.y=-.5,j.scale.set(1.01,1.05,1.1),_table.position.x=0,_table.position.y=tablefootSurfaceDim[1]+tablefootSurfaceDim[1]/2,_table.position.z=-110,_table.castShadow=!0,_table.receiveShadow=!0,level.add(_table),_table=new Physijs.BoxMesh(new THREE.BoxGeometry(tableSurfaceDim[0]+100,tableSurfaceDim[1],tableSurfaceDim[2]),new THREE.MeshBasicMaterial({color:16171623}),0),j=new Physijs.BoxMesh(new THREE.BoxGeometry(tableSurfaceDim[0]+100,tableSurfaceDim[1],tableSurfaceDim[2]),new THREE.MeshPhongMaterial({color:0}),0),j.position.z=-.5,j.position.y=-.2,j.scale.set(1.01,1,1),_table.position.x=0,_table.position.y=tablefootSurfaceDim[1]+tablefootSurfaceDim[1]/2,_table.position.z=110,_table.castShadow=!0,_table.receiveShadow=!0,level.add(_table),d=THREE.ImageUtils.loadTexture("images/phone/phone_veille.png"),d.minFilter=THREE.LinearFilter;var k=new THREE.MeshPhongMaterial({map:d}),l=new THREE.MeshPhongMaterial({color:16569893}),m=[l,l,k,l,l,l];phone=new Physijs.BoxMesh(new THREE.BoxGeometry(10,1,14),new THREE.MeshFaceMaterial(m),0),phone.position.x=50,phone.position.y=3,phone.position.z=-5,phone.rotation.y=.3,phone.castShadow=!0,phone.receiveShadow=!0,d=THREE.ImageUtils.loadTexture("images/phone/phone_message.png"),d.minFilter=THREE.LinearFilter;var n=new THREE.Mesh(new THREE.BoxGeometry(10,.1,14),new THREE.MeshBasicMaterial({opacity:0,transparent:!0,map:d}));d=THREE.ImageUtils.loadTexture("images/phone/phone_white.png"),d.minFilter=THREE.LinearFilter;var o=new THREE.Mesh(new THREE.BoxGeometry(10,.1,14),new THREE.MeshBasicMaterial({opacity:0,transparent:!0,map:d}));n.position.set(0,.5,0),o.position.set(0,.5,0),phone.add(n),phone.add(o),phone.receiveMessage=function(){Snds.playSd("vibreur");var a=0;n.material.opacity=1,phone.interval=setInterval(function(){n.material.opacity=a%2==0?0:1,o.material.opacity=a%2==0?1:0,a++,a>5&&clearInterval(phone.interval)},250)},phone.closeMessage=function(){clearInterval(phone.interval),n.material.opacity=0,o.material.opacity=0},_table.add(phone),scene.add(level);var p=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.02,side:2}),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p);q.scale.set(1,1,1),q.rotation.y=Math.PI/2;var r=new THREE.PointLight(16777215,.1,100);r.position.set(0,150,-80),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.9,.9,.9),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.8,.8,.8),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.7,.7,.7),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.6,.6,.6),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.5,.5,.5),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.4,.4,.4),r.add(q),q=new THREE.Mesh(new THREE.CylinderGeometry(10,164,400,32),p),q.scale.set(.3,.3,.3),r.add(q),scene.add(r);var s=new THREE.HemisphereLight(lightbrown,lightbrown,.5);s.color.setHex(lightbrown),s.groundColor.setHSL(.5,.5,.5),s.position.set(0,600,0);var t=document.getElementById("vertexShader").textContent,u=document.getElementById("fragmentShader").textContent,v={topColor:{type:"c",value:new THREE.Color(darkbrown)},bottomColor:{type:"c",value:new THREE.Color(lightbrown)},offset:{type:"f",value:10},exponent:{type:"f",value:.7}};v.topColor.value.copy(s.color);var w=new THREE.SphereGeometry(1600,4,5),x=new THREE.ShaderMaterial({vertexShader:t,fragmentShader:u,uniforms:v,side:THREE.BackSide}),y=new THREE.Mesh(w,x);scene.add(y);var z=new THREE.ImageUtils.loadTexture("images/dust.png");z.minFilter=THREE.LinearFilter;for(var A,B=new THREE.Geometry,C=[5,4,3,2,1],D=0;200>D;D++){var E=new THREE.Vector3;E.x=120*Math.random()-60,E.y=120*Math.random()-60,E.z=120*Math.random()-60,B.vertices.push(E)}for(var D=0;D<C.length;D++){var F=new THREE.PointCloudMaterial({size:C[D],map:z,blending:THREE.AdditiveBlending,transparent:!0,opacity:.04});A=new THREE.PointCloud(B,F),A.rotation.x=6*Math.random(),A.rotation.y=6*Math.random(),A.rotation.z=6*Math.random(),A.position.y=120,A.position.z=-50,dust.push(A),scene.add(A)}}function create_caps_group(){for(var a=[[-40,85,110],[-35,88,110],[-37,89,112],[-34,85,111],[40,85,-110],[35,88,-110],[34,85,-111]],b=0;7>b;b++)caps_group.push(new Physijs.CylinderMesh(geo_caps,caps_material.ptp,.4,{friction:1,restitution:.5})),caps_group[b].scale.set(capModelscale,capModelscale,capModelscale),caps_group[b].position.x=a[b][0],caps_group[b].position.y=a[b][1],caps_group[b].position.z=a[b][2],caps_group[b].rotation.y=Math.PI/(b+1),scene.add(caps_group[b])}function generateTexture(){var a=150,b=document.createElement("canvas");b.width=a,b.height=a;var c=b.getContext("2d");c.rect(0,0,a,a);var d=c.createLinearGradient(0,0,a-50,a);return d.addColorStop(0,"#ffffff"),d.addColorStop(1,"transparent"),c.fillStyle=d,c.fill(),b}function create_lights(){hemiLight=new THREE.HemisphereLight(16777215,16777215,.3),hemiLight.color.setHSL(.6,1,.6),hemiLight.groundColor.setHSL(.095,1,.75),hemiLight.position.set(0,500,0),scene.add(hemiLight);var a=new THREE.DirectionalLight(16777215,.5);a.color.setHSL(.1,1,.95),a.position.set(0,1,0),a.position.multiplyScalar(50),scene.add(a),a.castShadow=!0,a.shadowMapWidth=2048,a.shadowMapHeight=2048;var b=50;a.shadowCameraLeft=-b,a.shadowCameraRight=b,a.shadowCameraTop=b,a.shadowCameraBottom=-b,a.shadowCameraFar=3500,a.shadowBias=-1e-4,a.shadowDarkness=.35;var c=new THREE.SpotLight(16777215);c.position.set(0,160,-110),c.target.position.set(0,50,-110),c.target.updateMatrixWorld(),c.intensity=.3,scene.add(c);var d=new THREE.SpotLight(16777215);d.position.set(0,300,0),d.target.position.set(0,0,0),d.target.updateMatrixWorld(),d.intensity=.5,scene.add(d);var e=new THREE.SpotLight(16777215);e.position.set(0,0,120),e.target.position.set(0,20,-110),e.target.updateMatrixWorld(),e.intensity=1,scene.add(e),pointlightbar=new THREE.PointLight(brown,2,100),pointlightbar.position.set(3,180,-580),pointlightbar.animeLight=function(){this.intensity=Math.random()>.9?.2:2},scene.add(pointlightbar);var f=c.clone();f.position.set(0,200,120),f.target.position.set(0,50,120),f.target.updateMatrixWorld(),f.intensity=.7,scene.add(f);var g=new THREE.SpotLight(16777215);g.position.set(0,300,-20),g.target.position.set(0,20,-200),g.target.updateMatrixWorld(),g.intensity=.5,scene.add(g),g=new THREE.SpotLight(16777215),g.position.set(500,300,-20),g.target.position.set(200,20,-200),g.target.updateMatrixWorld(),g.intensity=.5,scene.add(g),g=new THREE.SpotLight(16777215),g.position.set(-500,300,-20),g.target.position.set(-200,20,-200),g.target.updateMatrixWorld(),g.intensity=.5,scene.add(g);var h=new THREE.HemisphereLight(16777215,16777215,.4);h.color.setHex(15724527),h.groundColor.setHSL(.2,.2,.2),h.position.set(0,300,0),scene.add(h);var i=new THREE.HemisphereLight(16777215,16777215,.4);i.color.setHex(15724527),i.position.set(0,300,-400),scene.add(i)}function loadBottleTools(){var a=new THREE.JSONLoader;sticker_materials={chimey:new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/small/chimais.png"),side:2,transparent:!0,opacity:1}),foster:new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/small/faustaire.png"),side:2,transparent:!0,opacity:1}),lef:new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/small/lef.png"),side:2,transparent:!0,opacity:1}),pelle:new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/small/pelle.png"),side:2,transparent:!0,opacity:1}),chouffe:new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/small/shouffe.png"),side:2,transparent:!0,opacity:1}),ptp:new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/small/ptp.png"),side:2,transparent:!0,opacity:1})},sticker_materials.chimey.map.minFilter=THREE.LinearFilter,sticker_materials.foster.map.minFilter=THREE.LinearFilter,sticker_materials.lef.map.minFilter=THREE.LinearFilter,sticker_materials.pelle.map.minFilter=THREE.LinearFilter,sticker_materials.chouffe.map.minFilter=THREE.LinearFilter,sticker_materials.ptp.map.minFilter=THREE.LinearFilter,a.load("model/3D/cap_light.json",function(b,c){a.load("model/3D/bottle_light.json",function(a,d){bottle_geo=a;var e=d[0];e.side=2,e.shininess=0,e.shading=0,e.reflectivity=0,e.color.setHex(16777215),bottle_mat=new THREE.MeshFaceMaterial(d),geo_caps=b;var f=[];f[0]=c[0].clone(),f[1]=c[0].clone(),f[0].side=2,f[1].side=2,f[1].map=0,mat_caps_chimey=new THREE.MeshFaceMaterial(f),mat_caps_chimey.materials[1].color=new THREE.Color(beerColors.chimey);var g=[];g[0]=c[1].clone(),g[1]=c[0].clone(),g[0].side=2,g[1].side=2,g[1].map=0,mat_caps_foster=new THREE.MeshFaceMaterial(g),mat_caps_foster.materials[1].color=new THREE.Color(beerColors.foster);var h=[];h[0]=c[2].clone(),h[1]=c[0].clone(),h[0].side=2,h[1].side=2,h[1].map=0,mat_caps_lef=new THREE.MeshFaceMaterial(h),mat_caps_lef.materials[1].color=new THREE.Color(beerColors.lef);var i=[];i[0]=c[3].clone(),i[1]=c[0].clone(),i[0].side=2,i[1].side=2,i[1].map=0,mat_caps_pelle=new THREE.MeshFaceMaterial(i),mat_caps_pelle.materials[1].color=new THREE.Color(beerColors.pelle);var j=[];j[0]=c[4].clone(),j[1]=c[0].clone(),j[0].side=2,j[1].side=2,j[1].map=0,mat_caps_chouffe=new THREE.MeshFaceMaterial(j),mat_caps_chouffe.materials[1].color=new THREE.Color(beerColors.chouffe);var k=[];k[0]=c[5].clone(),k[1]=c[2].clone(),k[0].side=2,k[1].side=2,k[1].map=0,mat_caps_ptp=new THREE.MeshFaceMaterial(k),mat_caps_ptp.materials[1].color=new THREE.Color(beerColors.ptp),caps_material={chimey:mat_caps_chimey,foster:mat_caps_foster,lef:mat_caps_lef,pelle:mat_caps_pelle,chouffe:mat_caps_chouffe,ptp:mat_caps_ptp},initScene()})})}var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(a,b){"object"!=typeof b&&(b={rotation:b}),this.finals={};var c,d,e,f,g,h,i=b.useRadians===!0?2*Math.PI:360,j=1e-6;for(c in b)"useRadians"!==c&&(h=(b[c]+"").split("_"),d=h[0],e=parseFloat("function"!=typeof a[c]?a[c]:a[c.indexOf("set")||"function"!=typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]()),f=this.finals[c]="string"==typeof d&&"="===d.charAt(1)?e+parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)):Number(d)||0,g=f-e,h.length&&(d=h.join("_"),-1!==d.indexOf("short")&&(g%=i,g!==g%(i/2)&&(g=0>g?g+i:g-i)),-1!==d.indexOf("_cw")&&0>g?g=(g+9999999999*i)%i-(0|g/i)*i:-1!==d.indexOf("ccw")&&g>0&&(g=(g-9999999999*i)%i-(0|g/i)*i)),(g>j||-j>g)&&(this._addTween(a,c,e,e+g,c),this._overwriteProps.push(c)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=e.prototype.render},f=1e-10,g=c._internals,h=g.isSelector,i=g.isArray,j=e.prototype=c.to({},.1,{}),k=[];e.version="1.15.1",j.constructor=e,j.kill()._gc=!1,e.killTweensOf=e.killDelayedCallsTo=c.killTweensOf,e.getTweensOf=c.getTweensOf,e.lagSmoothing=c.lagSmoothing,e.ticker=c.ticker,e.render=c.render,j.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},j.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._time;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._time>0||f){this._initted=!1,this._init();for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next}return this},j.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,h,i,j,l,m,n,o=this._dirty?this.totalDuration():this._totalDuration,p=this._time,q=this._totalTime,r=this._cycle,s=this._duration,t=this._rawPrevTime;if(a>=o?(this._totalTime=o,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=s,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete"),0===s&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>t||t===f)&&t!==a&&(c=!0,t>f&&(e="onReverseComplete")),this._rawPrevTime=n=!b||a||t===a?a:f)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==q||0===s&&t>0&&t!==f)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===s&&(this._initted||!this.vars.lazy||c)&&(t>=0&&(c=!0),this._rawPrevTime=n=!b||a||t===a?a:f)),this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(i=s+this._repeatDelay,this._cycle=this._totalTime/i>>0,0!==this._cycle&&this._cycle===this._totalTime/i&&this._cycle--,this._time=this._totalTime-this._cycle*i,this._yoyo&&0!==(1&this._cycle)&&(this._time=s-this._time),this._time>s?this._time=s:0>this._time&&(this._time=0)),this._easeType?(j=this._time/s,l=this._easeType,m=this._easePower,(1===l||3===l&&j>=.5)&&(j=1-j),3===l&&(j*=2),1===m?j*=j:2===m?j*=j*j:3===m?j*=j*j*j:4===m&&(j*=j*j*j*j),this.ratio=1===l?1-j:2===l?j:.5>this._time/s?j/2:1-j/2):this.ratio=this._ease.getRatio(this._time/s)),p===this._time&&!c&&r===this._cycle)return void(q!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||k)));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=q,this._rawPrevTime=t,this._cycle=r,g.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/s):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&a>=0&&(this._active=!0),0===q&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===s)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||k))),h=this._firstPT;h;)h.f?h.t[h.p](h.c*this.ratio+h.s):h.t[h.p]=h.c*this.ratio+h.s,h=h._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._totalTime!==q||d)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||k)),this._cycle!==r&&(b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||k)),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||k),0===s&&this._rawPrevTime===f&&n!==f&&(this._rawPrevTime=0))},e.to=function(a,b,c){return new e(a,b,c)},e.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new e(a,b,c)},e.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new e(a,b,d)},e.staggerTo=e.allTo=function(a,b,f,g,j,l,m){g=g||0;var n,o,p,q,r=f.delay||0,s=[],t=function(){f.onComplete&&f.onComplete.apply(f.onCompleteScope||this,arguments),j.apply(m||this,l||k)};for(i(a)||("string"==typeof a&&(a=c.selector(a)||a),h(a)&&(a=d(a))),a=a||[],0>g&&(a=d(a),a.reverse(),g*=-1),n=a.length-1,p=0;n>=p;p++){o={};for(q in f)o[q]=f[q];o.delay=r,p===n&&j&&(o.onComplete=t),s[p]=new e(a[p],b,o),r+=g}return s},e.staggerFrom=e.allFrom=function(a,b,c,d,f,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,e.staggerTo(a,b,c,d,f,g,h)},e.staggerFromTo=e.allFromTo=function(a,b,c,d,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,e.staggerTo(a,b,d,f,g,h,i)},e.delayedCall=function(a,b,c,d,f){return new e(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:f,overwrite:0})},e.set=function(a,b){return new e(a,0,b)},e.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var l=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(l(f,b)),e=d.length),f=f._next;return d},m=e.getAllTweens=function(b){return l(a._rootTimeline,b).concat(l(a._rootFramesTimeline,b))};e.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=m(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},e.killChildTweensOf=function(a,b){if(null!=a){var f,j,k,l,m,n=g.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),h(a)&&(a=d(a)),i(a))for(l=a.length;--l>-1;)e.killChildTweensOf(a[l],b);else{f=[];for(k in n)for(j=n[k].target.parentNode;j;)j===a&&(f=f.concat(n[k].tweens)),j=j.parentNode;for(m=f.length,l=0;m>l;l++)b&&f[l].totalTime(f[l].totalDuration()),f[l]._enabled(!1,!1)}}};var n=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=m(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return e.pauseAll=function(a,b,c){n(!0,a,b,c)},e.resumeAll=function(a,b,c){n(!1,a,b,c)},e.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||f,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},j.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},j.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},j.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},j.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},j.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},j.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},j.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},j.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},e},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=[],m=_gsScope._gsDefine.globals,n=function(a){var b,c={};for(b in a)c[b]=a[b];return c},o=g.pauseCallback=function(a,b,c,d){var e=a._timeline,f=e._totalTime;!b&&this._forcingPlayhead||e._rawPrevTime===a._startTime||(e.pause(a._startTime),b&&b.apply(d||e,c||l),this._forcingPlayhead&&e.seek(f))},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.15.1",q.constructor=d,q.kill()._gc=q._forcingPlayhead=!1,q.to=function(a,b,d,e){var f=d.repeat&&m.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&m.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&m.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,m=new d({onComplete:i,onCompleteParams:j,onCompleteScope:k,smoothChildTiming:this.smoothChildTiming});for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),l=0;a.length>l;l++)e.startAt&&(e.startAt=n(e.startAt)),m.to(a[l],b,n(e),l*f);return this.add(m,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);
var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array||b&&b.push&&i(b)){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,["{self}",b,d,e],this);return f.data="isPause",this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,m=this._dirty?this.totalDuration():this._totalDuration,n=this._time,o=this._startTime,p=this._timeScale,q=this._paused;if(a>=m?(this._totalTime=this._time=m,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===this._duration&&(0===a||0>this._rawPrevTime||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=m+1e-4):1e-7>a?(this._totalTime=this._time=0,(0!==n||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=0,this._initted||(i=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==n&&this._first||c||i){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l)),this._time>=n)for(d=this._first;d&&(g=d._next,!this._paused||q);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||q);)(d._active||n>=d._startTime&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||(j.length&&k(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l))),h&&(this._gc||(o===this._startTime||p!==this._timeScale)&&(0===this._time||m>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||l)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)e>g._startTime||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(){this._forcingPlayhead=!0;var b=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,b},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,0>e._startTime&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=[],g=b._internals,h=g.lazyTweens,i=g.lazyRender,j=new c(null,null,1,0),k=d.prototype=new a;return k.constructor=d,k.kill()._gc=!1,d.version="1.15.1",k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},k.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},k.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},k.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},k.tweenTo=function(a,c){c=c||{};var d,e,g,h={ease:j,useFrames:this.usesFrames(),immediateRender:!1};for(e in c)h[e]=c[e];return h.time=this._parseTimeOrLabel(a),d=Math.abs(Number(h.time)-this._time)/this._timeScale||.001,g=new b(this,d,h),h.onStart=function(){g.target.paused(!0),g.vars.time!==g.target.time()&&d===g.duration()&&g.duration(Math.abs(g.vars.time-g.target.time())/g.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||g,c.onStartParams||f)},g},k.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},k.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,g,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._duration,p=this._time,q=this._totalTime,r=this._startTime,s=this._timeScale,t=this._rawPrevTime,u=this._paused,v=this._cycle;if(a>=n?(this._locked||(this._totalTime=n,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(g=!0,k="onComplete",0===this._duration&&(0===a||0>t||t===e)&&t!==a&&this._first&&(l=!0,t>e&&(k="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=o,a=o+1e-4)):1e-7>a?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===o&&t!==e&&(t>0||0>a&&t>=0)&&!this._locked)&&(k="onReverseComplete",g=this._reversed),0>a?(this._active=!1,t>=0&&this._first&&(l=!0),this._rawPrevTime=a):(this._rawPrevTime=o||!b||a||this._rawPrevTime===a?a:e,a=0,this._initted||(l=!0))):(0===o&&0>t&&(l=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(m=o+this._repeatDelay,this._cycle=this._totalTime/m>>0,0!==this._cycle&&this._cycle===this._totalTime/m&&this._cycle--,this._time=this._totalTime-this._cycle*m,this._yoyo&&0!==(1&this._cycle)&&(this._time=o-this._time),this._time>o?(this._time=o,a=o+1e-4):0>this._time?this._time=a=0:a=this._time))),this._cycle!==v&&!this._locked){var w=this._yoyo&&0!==(1&v),x=w===(this._yoyo&&0!==(1&this._cycle)),y=this._totalTime,z=this._cycle,A=this._rawPrevTime,B=this._time;if(this._totalTime=v*o,v>this._cycle?w=!w:this._totalTime+=o,this._time=p,this._rawPrevTime=0===o?t-1e-4:t,this._cycle=v,this._locked=!0,p=w?0:o,this.render(p,b,0===o),b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||f),x&&(p=w?o+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!u)return;this._time=B,this._totalTime=y,this._cycle=z,this._rawPrevTime=A}if(!(this._time!==p&&this._first||c||l))return void(q!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||f)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==q&&a>0&&(this._active=!0),0===q&&this.vars.onStart&&0!==this._totalTime&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||f)),this._time>=p)for(d=this._first;d&&(j=d._next,!this._paused||u);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=j;else for(d=this._last;d&&(j=d._prev,!this._paused||u);)(d._active||p>=d._startTime&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=j;this._onUpdate&&(b||(h.length&&i(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||f))),k&&(this._locked||this._gc||(r===this._startTime||s!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(g&&(h.length&&i(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[k]&&this.vars[k].apply(this.vars[k+"Scope"]||this,this.vars[k+"Params"]||f)))},k.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},k.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},k.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(a>b[c].time)return b[c].name;return null},k.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.totalDuration=function(b){return arguments.length?-1===this._repeat?this:this.duration((b-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=.25*(u+t)*e/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-.5*(l-k)*e,p=l+.5*(m-l)*e,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q],d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||q+1>a.length)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=this._func[d]?this._func[d].call(this._target):this._target[d]}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&b>=(this._l2=k[++e]););this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(this._l1>b&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&this._l1>b?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&l.length-1>e){for(j=l.length-1;j>e&&b>=(this._s2=l[++e]););this._s1=l[e-1],this._si=e}else if(this._s1>b&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&this._s1>b?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=Math.round(i)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform),i._onInitTween(l.proxy,q,g._tween),h}})}},q._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.15.1",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q=/(?:\d|\-\d|\.\d|\-\.\d)+/g,r=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,s=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,t=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,u=/(?:\d|\-|\+|=|#|\.)*/g,v=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,y=/^(rgb|hsl)/,z=/([A-Z])/g,A=/-([a-z])/gi,B=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(a,b){return b.toUpperCase()},D=/(?:Left|Right|Width)/i,E=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,F=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,G=/,(?=[^\)]*(?:\(|$))/gi,H=Math.PI/180,I=180/Math.PI,J={},K=document,L=function(a){return K.createElementNS?K.createElementNS("http://www.w3.org/1999/xhtml",a):K.createElement(a)},M=L("div"),N=L("img"),O=g._internals={_specialProps:i},P=navigator.userAgent,Q=function(){var a=P.indexOf("Android"),b=L("a");return m=-1!==P.indexOf("Safari")&&-1===P.indexOf("Chrome")&&(-1===a||Number(P.substr(a+8,1))>3),o=m&&6>Number(P.substr(P.indexOf("Version/")+8,1)),n=-1!==P.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(P)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(P))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),R=function(a){return v.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},S=function(a){window.console&&console.log(a)},T="",U="",V=function(a,b){b=b||M;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(U=3===d?"ms":c[d],T="-"+U.toLowerCase()+"-",U+a):null},W=K.defaultView?K.defaultView.getComputedStyle:function(){},X=g.getStyle=function(a,b,c,d,e){var f;return Q||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||W(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(z,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):R(a)},Y=O.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=D.test(c),l=a,m=M.style,n=0>d;if(n&&(d=-d),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+X(a,"position")+";line-height:0;","%"!==e&&l.appendChild)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||K.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(M),h=parseFloat(M[k?"offsetWidth":"offsetHeight"]),l.removeChild(M),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=100*(h/d)),0!==h||f||(h=Y(a,c,d,e,!0))}return n?-h:h},Z=O.calculateOffset=function(a,b,c){if("absolute"!==X(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=X(a,"margin"+d,c);return a["offset"+d]-(Y(a,b,parseFloat(e),e.replace(u,""))||0)},$=function(a,b){var c,d,e={};if(b=b||W(a,null))for(c in b)(-1===c.indexOf("Transform")||wb===c)&&(e[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===e[c]&&(e[c.replace(A,C)]=b[c]);return Q||(e.opacity=R(a)),d=Gb(a,b,!1),e.rotation=d.rotation,e.skewX=d.skewX,e.scaleX=d.scaleX,e.scaleY=d.scaleY,e.x=d.x,e.y=d.y,zb&&(e.z=d.z,e.rotationX=d.rotationX,e.rotationY=d.rotationY,e.scaleZ=d.scaleZ),e.filters&&delete e.filters,e},_=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(t,"")?f:0:Z(a,g),void 0!==j[g]&&(h=new nb(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ab={width:["Left","Right"],height:["Top","Bottom"]},bb=["marginLeft","marginRight","marginTop","marginBottom"],cb=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ab[b],f=e.length;for(c=c||W(a,null);--f>-1;)d-=parseFloat(X(a,"padding"+e[f],c,!0))||0,d-=parseFloat(X(a,"border"+e[f]+"Width",c,!0))||0;return d},db=function(a,b){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="center"===d?"50%":"0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(t,"")),b.oy=parseFloat(e.replace(t,""))),d+" "+e+(c.length>2?" "+c[2]:"")},eb=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},fb=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)},gb=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:I)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(0|g/e)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(0|g/e)*e)),h=b+g),j>h&&h>-j&&(h=0),h},hb={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ib=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,0|255*(1>6*a?b+6*(c-b)*a:.5>a?c:2>3*a?b+6*(c-b)*(2/3-a):b)+.5},jb=g.parseColor=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,255&a>>8,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),hb[a]?hb[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):"hsl"===a.substr(0,3)?(a=a.match(q),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=.5>=g?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=ib(e+1/3,b,c),a[1]=ib(e,b,c),a[2]=ib(e-1/3,b,c),a):(a=a.match(q)||hb.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):hb.black},kb="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(j in hb)kb+="|"+j+"\\b";kb=RegExp(kb+")","gi");var lb=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(kb)||[""])[0]:"",g=a.split(f).join("").match(s)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(q,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(o=a.replace(G,"|").split("|"),n=0;o.length>n;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(kb)||[f])[0],m=a.split(b).join("").match(s)||[],n=m.length,k>n--)for(;k>++n;)m[n]=c?m[0|(n-1)/2]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(f=a.replace(G,"|").split("|"),m=0;f.length>m;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(s)||[],m=b.length,k>m--)for(;k>++m;)b[m]=c?b[0|(m-1)/2]:g[m];return h+b.join(j)+i}:function(a){return a}},mb=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},nb=(O._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=Math.round(b):i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;c.l>d;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ob=(O._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=J;for(c._transform=null,J=b,d=k=c.parse(a,b,d,e),J=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(1>=d.type&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new nb(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new nb(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}
},O.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ob||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),pb=g.parseComplex=function(a,b,c,d,e,f,g,h,i,j){c=c||f||"",g=new ob(a,b,0,0,g,j?2:1,null,!1,h,c,d),d+="";var l,m,n,o,p,s,t,u,v,w,x,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(G,", ").split(" "),B=B.join(" ").replace(G,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=j,l=0;C>l;l++)if(o=A[l],p=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,eb(p,u),p.replace(r,""),D&&-1!==p.indexOf("px"),!0);else if(e&&("#"===o.charAt(0)||hb[o]||y.test(o)))z=","===p.charAt(p.length-1)?"),":")",o=jb(o),p=jb(p),v=o.length+p.length>6,v&&!Q&&0===p[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(Q||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],p[0]-o[0],",",!0,!0).appendXtra("",o[1],p[1]-o[1],",",!0).appendXtra("",o[2],p[2]-o[2],v?",":z,!0),v&&(o=4>o.length?1:o[3],g.appendXtra("",o,(4>p.length?1:p[3])-o,z,!1)));else if(s=o.match(q)){if(t=p.match(r),!t||t.length!==s.length)return g;for(n=0,m=0;s.length>m;m++)x=s[m],w=o.indexOf(x,n),g.appendXtra(o.substr(n,w-n),Number(x),eb(t[m],x),"",D&&"px"===o.substr(w+x.length,2),0===m),n=w+x.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(z=g.xs0+g.data.s,l=1;g.l>l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},qb=9;for(j=ob.prototype,j.l=j.pr=0;--qb>0;)j["xn"+qb]=0,j["xs"+qb]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ob(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var rb=function(a,b){b=b||{},this.p=b.prefix?V(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||lb(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},sb=O._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;f.length>d;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new rb(f[d],b)},tb=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";sb(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(S("Error: "+b+" js file not loaded."),f)}})}};j=rb.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(G.test(c)||G.test(b)?(h=b.replace(G,"|").split("|"),i=c.replace(G,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(c=-1===l?i:h,c[g]+=" "+m));b=h.join(", "),c=i.join(", ")}return pb(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(X(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){sb(a,{parser:function(a,d,e,f,g,h){var i=new ob(a,e,0,0,g,2,e,!1,c);return i.plugin=h,i.setRatio=b(a,d,f._tween,e),i},priority:c})};var ub,vb="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),wb=V("transform"),xb=T+"transform",yb=V("transformOrigin"),zb=null!==V("perspective"),Ab=O.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&zb?g.defaultForce3D||"auto":!1},Bb=window.SVGElement,Cb=function(a,b,c){var d,e=K.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Db=document.documentElement,Eb=function(){var a,b,c,d=p||/Android/i.test(P)&&!window.chrome;return K.createElementNS&&!d&&(a=Cb("svg",Db),b=Cb("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[yb]="50% 50%",b.style[wb]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&zb),Db.removeChild(a)),d}(),Fb=function(a,b,c){var d=a.getBBox();b=db(b).split(" "),c.xOrigin=(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*d.width:parseFloat(b[0]))+d.x,c.yOrigin=(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*d.height:parseFloat(b[1]))+d.y},Gb=O.getTransform=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var f,h,i,j,k,l,m,n,o,p,q=c?a._gsTransform||new Ab:new Ab,r=0>q.scaleX,s=2e-5,t=1e5,u=zb?parseFloat(X(a,yb,b,!1,"0 0 0").split(" ")[2])||q.zOrigin||0:0,v=parseFloat(g.defaultTransformPerspective)||0;if(wb?h=X(a,xb,b,!0):a.currentStyle&&(h=a.currentStyle.filter.match(E),h=h&&4===h.length?[h[0].substr(4),Number(h[2].substr(4)),Number(h[1].substr(4)),h[3].substr(4),q.x||0,q.y||0].join(","):""),f=!h||"none"===h||"matrix(1, 0, 0, 1, 0, 0)"===h,q.svg=!!(Bb&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM)),q.svg&&(Fb(a,X(a,yb,e,!1,"50% 50%")+"",q),ub=g.useSVGTransformAttr||Eb,i=a.getAttribute("transform"),f&&i&&-1!==i.indexOf("matrix")&&(h=i,f=0)),!f){for(i=(h||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],j=i.length;--j>-1;)k=Number(i[j]),i[j]=(l=k-(k|=0))?(0|l*t+(0>l?-.5:.5))/t+k:k;if(16===i.length){var w,x,y,z,A,B=i[0],C=i[1],D=i[2],F=i[3],G=i[4],H=i[5],J=i[6],K=i[7],L=i[8],M=i[9],N=i[10],O=i[12],P=i[13],Q=i[14],R=i[11],S=Math.atan2(J,N);q.zOrigin&&(Q=-q.zOrigin,O=L*Q-i[12],P=M*Q-i[13],Q=N*Q+q.zOrigin-i[14]),q.rotationX=S*I,S&&(z=Math.cos(-S),A=Math.sin(-S),w=G*z+L*A,x=H*z+M*A,y=J*z+N*A,L=G*-A+L*z,M=H*-A+M*z,N=J*-A+N*z,R=K*-A+R*z,G=w,H=x,J=y),S=Math.atan2(L,N),q.rotationY=S*I,S&&(z=Math.cos(-S),A=Math.sin(-S),w=B*z-L*A,x=C*z-M*A,y=D*z-N*A,M=C*A+M*z,N=D*A+N*z,R=F*A+R*z,B=w,C=x,D=y),S=Math.atan2(C,B),q.rotation=S*I,S&&(z=Math.cos(-S),A=Math.sin(-S),B=B*z+G*A,x=C*z+H*A,H=C*-A+H*z,J=D*-A+J*z,C=x),q.rotationX&&Math.abs(q.rotationX)+Math.abs(q.rotation)>359.9&&(q.rotationX=q.rotation=0,q.rotationY+=180),q.scaleX=(0|Math.sqrt(B*B+C*C)*t+.5)/t,q.scaleY=(0|Math.sqrt(H*H+M*M)*t+.5)/t,q.scaleZ=(0|Math.sqrt(J*J+N*N)*t+.5)/t,q.skewX=0,q.perspective=R?1/(0>R?-R:R):0,q.x=O,q.y=P,q.z=Q}else if(!(zb&&!d&&i.length&&q.x===i[4]&&q.y===i[5]&&(q.rotationX||q.rotationY)||void 0!==q.x&&"none"===X(a,"display",b))){var T=i.length>=6,U=T?i[0]:1,V=i[1]||0,W=i[2]||0,Y=T?i[3]:1;q.x=i[4]||0,q.y=i[5]||0,m=Math.sqrt(U*U+V*V),n=Math.sqrt(Y*Y+W*W),o=U||V?Math.atan2(V,U)*I:q.rotation||0,p=W||Y?Math.atan2(W,Y)*I+o:q.skewX||0,Math.abs(p)>90&&270>Math.abs(p)&&(r?(m*=-1,p+=0>=o?180:-180,o+=0>=o?180:-180):(n*=-1,p+=0>=p?180:-180)),q.scaleX=m,q.scaleY=n,q.rotation=o,q.skewX=p,zb&&(q.rotationX=q.rotationY=q.z=0,q.perspective=v,q.scaleZ=1)}q.zOrigin=u;for(j in q)s>q[j]&&q[j]>-s&&(q[j]=0)}return c&&(a._gsTransform=q),q},Hb=function(a){var b,c,d=this.data,e=-d.rotation*H,f=e+d.skewX*H,g=1e5,h=(0|Math.cos(e)*d.scaleX*g)/g,i=(0|Math.sin(e)*d.scaleX*g)/g,j=(0|Math.sin(f)*-d.scaleY*g)/g,k=(0|Math.cos(f)*d.scaleY*g)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x+q*d.xPercent/100,x=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?.01*q*d.ox:d.ox)-q/2,o=(d.oyp?.01*r*d.oy:d.oy)-r/2,w+=n-(n*h+o*i),x+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+w)+", Dy="+(o-(n*j+o*k)+x)+")"):t+=", sizingMethod='auto expand')",l.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(F,t):t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||v.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf("gradient("&&b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),qb=0;4>qb;qb++)z=bb[qb],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):Y(this.t,z,parseFloat(y),y.replace(u,""))||0,A=c!==d[z]?2>qb?-d.ieOffsetX:-d.ieOffsetY:2>qb?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===qb||2===qb?1:B)))+"px"}}},Ib=O.set3DTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x=this.data,y=this.t.style,z=x.rotation*H,A=x.scaleX,B=x.scaleY,C=x.scaleZ,D=x.x,E=x.y,F=x.z,G=x.perspective;if(!(1!==a&&0!==a&&x.force3D||x.force3D===!0||x.rotationY||x.rotationX||1!==C||G||F))return void Jb.call(this,a);if(n&&(p=1e-4,p>A&&A>-p&&(A=C=2e-5),p>B&&B>-p&&(B=C=2e-5),!G||x.z||x.rotationX||x.rotationY||(G=0)),z||x.skewX)q=b=Math.cos(z),r=e=Math.sin(z),x.skewX&&(z-=x.skewX*H,q=Math.cos(z),r=Math.sin(z),"simple"===x.skewType&&(s=Math.tan(x.skewX*H),s=Math.sqrt(1+s*s),q*=s,r*=s)),c=-r,f=q;else{if(!(x.rotationY||x.rotationX||1!==C||G||x.svg))return void(y[wb]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+E+"px,"+F+"px)"+(1!==A||1!==B?" scale("+A+","+B+")":""));b=f=1,c=e=0}j=1,d=g=h=i=k=l=0,m=G?-1/G:0,o=x.zOrigin,p=1e-6,v=",",w="0",z=x.rotationY*H,z&&(q=Math.cos(z),r=Math.sin(z),h=-r,k=m*-r,d=b*r,g=e*r,j=q,m*=q,b*=q,e*=q),z=x.rotationX*H,z&&(q=Math.cos(z),r=Math.sin(z),s=c*q+d*r,t=f*q+g*r,i=j*r,l=m*r,d=c*-r+d*q,g=f*-r+g*q,j*=q,m*=q,c=s,f=t),1!==C&&(d*=C,g*=C,j*=C,m*=C),1!==B&&(c*=B,f*=B,i*=B,l*=B),1!==A&&(b*=A,e*=A,h*=A,k*=A),(o||x.svg)&&(o&&(D+=d*-o,E+=g*-o,F+=j*-o+o),x.svg&&(D+=x.xOrigin-(x.xOrigin*b+x.yOrigin*c),E+=x.yOrigin-(x.xOrigin*e+x.yOrigin*f)),p>D&&D>-p&&(D=w),p>E&&E>-p&&(E=w),p>F&&F>-p&&(F=0)),u=x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix3d(":"matrix3d(",u+=(p>b&&b>-p?w:b)+v+(p>e&&e>-p?w:e)+v+(p>h&&h>-p?w:h),u+=v+(p>k&&k>-p?w:k)+v+(p>c&&c>-p?w:c)+v+(p>f&&f>-p?w:f),x.rotationX||x.rotationY?(u+=v+(p>i&&i>-p?w:i)+v+(p>l&&l>-p?w:l)+v+(p>d&&d>-p?w:d),u+=v+(p>g&&g>-p?w:g)+v+(p>j&&j>-p?w:j)+v+(p>m&&m>-p?w:m)+v):u+=",0,0,0,0,1,0,",u+=D+v+E+v+F+v+(G?1+-F/G:1)+")",y[wb]=u},Jb=O.set2DTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this.data,n=this.t,o=n.style,p=m.x,q=m.y;return!(m.rotationX||m.rotationY||m.z||m.force3D===!0||"auto"===m.force3D&&1!==a&&0!==a)||m.svg&&ub||!zb?(e=m.scaleX,f=m.scaleY,void(m.rotation||m.skewX||m.svg?(b=m.rotation*H,c=b-m.skewX*H,d=1e5,g=Math.cos(b)*e,h=Math.sin(b)*e,i=Math.sin(c)*-f,j=Math.cos(c)*f,m.svg&&(p+=m.xOrigin-(m.xOrigin*g+m.yOrigin*i),q+=m.yOrigin-(m.xOrigin*h+m.yOrigin*j),l=1e-6,l>p&&p>-l&&(p=0),l>q&&q>-l&&(q=0)),k=(0|g*d)/d+","+(0|h*d)/d+","+(0|i*d)/d+","+(0|j*d)/d+","+p+","+q+")",m.svg&&ub?n.setAttribute("transform","matrix("+k):o[wb]=(m.xPercent||m.yPercent?"translate("+m.xPercent+"%,"+m.yPercent+"%) matrix(":"matrix(")+k):o[wb]=(m.xPercent||m.yPercent?"translate("+m.xPercent+"%,"+m.yPercent+"%) matrix(":"matrix(")+e+",0,0,"+f+","+p+","+q+")")):(this.setRatio=Ib,void Ib.call(this,a))};j=Ab.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=0,j.scaleX=j.scaleY=j.scaleZ=1,sb("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k,l,m,n,o,p,q=d._transform=Gb(a,e,!0,i.parseTransform),r=a.style,s=1e-6,t=vb.length,u=i,v={};if("string"==typeof u.transform&&wb)l=M.style,l[wb]=u.transform,l.display="block",l.position="absolute",K.body.appendChild(M),j=Gb(M,null,!1),K.body.removeChild(M);else if("object"==typeof u){if(j={scaleX:fb(null!=u.scaleX?u.scaleX:u.scale,q.scaleX),scaleY:fb(null!=u.scaleY?u.scaleY:u.scale,q.scaleY),scaleZ:fb(u.scaleZ,q.scaleZ),x:fb(u.x,q.x),y:fb(u.y,q.y),z:fb(u.z,q.z),xPercent:fb(u.xPercent,q.xPercent),yPercent:fb(u.yPercent,q.yPercent),perspective:fb(u.transformPerspective,q.perspective)},p=u.directionalRotation,null!=p)if("object"==typeof p)for(l in p)u[l]=p[l];else u.rotation=p;"string"==typeof u.x&&-1!==u.x.indexOf("%")&&(j.x=0,j.xPercent=fb(u.x,q.xPercent)),"string"==typeof u.y&&-1!==u.y.indexOf("%")&&(j.y=0,j.yPercent=fb(u.y,q.yPercent)),j.rotation=gb("rotation"in u?u.rotation:"shortRotation"in u?u.shortRotation+"_short":"rotationZ"in u?u.rotationZ:q.rotation,q.rotation,"rotation",v),zb&&(j.rotationX=gb("rotationX"in u?u.rotationX:"shortRotationX"in u?u.shortRotationX+"_short":q.rotationX||0,q.rotationX,"rotationX",v),j.rotationY=gb("rotationY"in u?u.rotationY:"shortRotationY"in u?u.shortRotationY+"_short":q.rotationY||0,q.rotationY,"rotationY",v)),j.skewX=null==u.skewX?q.skewX:gb(u.skewX,q.skewX),j.skewY=null==u.skewY?q.skewY:gb(u.skewY,q.skewY),(k=j.skewY-q.skewY)&&(j.skewX+=k,j.rotation+=k)}for(zb&&null!=u.force3D&&(q.force3D=u.force3D,o=!0),q.skewType=u.skewType||q.skewType||g.defaultSkewType,n=q.force3D||q.z||q.rotationX||q.rotationY||j.z||j.rotationX||j.rotationY||j.perspective,n||null==u.scale||(j.scaleZ=1);--t>-1;)c=vb[t],m=j[c]-q[c],(m>s||-s>m||null!=u[c]||null!=J[c])&&(o=!0,f=new ob(q,c,q[c],m,f),c in v&&(f.e=v[c]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return m=u.transformOrigin,m&&q.svg&&(Fb(a,db(m),j),f=new ob(q,"xOrigin",q.xOrigin,j.xOrigin-q.xOrigin,f,-1,"transformOrigin"),f.b=q.xOrigin,f.e=f.xs0=j.xOrigin,f=new ob(q,"yOrigin",q.yOrigin,j.yOrigin-q.yOrigin,f,-1,"transformOrigin"),f.b=q.yOrigin,f.e=f.xs0=j.yOrigin,m="0px 0px"),(m||zb&&n&&q.zOrigin)&&(wb?(o=!0,c=yb,m=(m||X(a,c,e,!1,"50% 50%"))+"",f=new ob(r,c,0,0,f,-1,"transformOrigin"),f.b=r[c],f.plugin=h,zb?(l=q.zOrigin,m=m.split(" "),q.zOrigin=(m.length>2&&(0===l||"0px"!==m[2])?parseFloat(m[2]):l)||0,f.xs0=f.e=m[0]+" "+(m[1]||"50%")+" 0px",f=new ob(q,"zOrigin",0,0,f,-1,f.n),f.b=l,f.xs0=f.e=q.zOrigin):f.xs0=f.e=m):db(m+"",q)),o&&(d._transformType=q.svg&&ub||!n&&3!==this._transformType?2:3),f},prefix:!0}),sb("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),sb("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g){b=this.format(b);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=a.style;for(p=parseFloat(a.offsetWidth),q=parseFloat(a.offsetHeight),h=b.split(" "),i=0;x.length>i;i++)this.p.indexOf("border")&&(x[i]=V(x[i])),l=k=X(a,x[i],e,!1,"0px"),-1!==l.indexOf(" ")&&(k=l.split(" "),l=k[0],k=k[1]),m=j=h[i],n=parseFloat(l),s=l.substr((n+"").length),t="="===m.charAt(1),t?(o=parseInt(m.charAt(0)+"1",10),m=m.substr(2),o*=parseFloat(m),r=m.substr((o+"").length-(0>o?1:0))||""):(o=parseFloat(m),r=m.substr((o+"").length)),""===r&&(r=d[c]||s),r!==s&&(u=Y(a,"borderLeft",n,s),v=Y(a,"borderTop",n,s),"%"===r?(l=100*(u/p)+"%",k=100*(v/q)+"%"):"em"===r?(w=Y(a,"borderLeft",1,"em"),l=u/w+"em",k=v/w+"em"):(l=u+"px",k=v+"px"),t&&(m=parseFloat(l)+o+r,j=parseFloat(k)+o+r)),g=pb(y,x[i],l+" "+k,m+" "+j,!1,"0px",g);return g},prefix:!0,formatter:lb("0px 0px 0px 0px",!1,!0)}),sb("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||W(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=X(a,"backgroundImage").replace(B,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),N.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-N.width:a.offsetHeight-N.height,h[j]=k?parseFloat(q)/100*l+"px":100*(parseFloat(q)/l)+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:db}),sb("backgroundSize",{defaultValue:"0 0",formatter:db}),sb("perspective",{defaultValue:"0px",prefix:!0}),sb("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),sb("transformStyle",{prefix:!0}),sb("backfaceVisibility",{prefix:!0}),sb("userSelect",{prefix:!0}),sb("margin",{parser:mb("marginTop,marginRight,marginBottom,marginLeft")}),sb("padding",{parser:mb("paddingTop,paddingRight,paddingBottom,paddingLeft")}),sb("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(X(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),sb("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),sb("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),sb("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(X(a,"borderTopWidth",e,!1,"0px")+" "+X(a,"borderTopStyle",e,!1,"solid")+" "+X(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(kb)||["#000"])[0]}}),sb("borderWidth",{parser:mb("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),sb("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){var f=a.style,g="cssFloat"in f?"cssFloat":"styleFloat";return new ob(f,g,0,0,e,-1,c,!1,0,f[g],b)}});var Kb=function(a){var b,c=this.t,d=c.filter||X(this.data,"filter")||"",e=0|this.s+this.c*a;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!X(this.data,"filter")):(c.filter=d.replace(x,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(v,"opacity="+e))};sb("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(X(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===X(a,"visibility",e)&&0!==b&&(h=0),Q?f=new ob(i,"opacity",h,b-h,f):(f=new ob(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Kb),j&&(f=new ob(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Lb=function(a,b){b&&(a.removeProperty?("ms"===b.substr(0,2)&&(b="M"+b.substr(1)),a.removeProperty(b.replace(z,"-$1").toLowerCase())):a.removeAttribute(b))},Mb=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Lb(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};sb("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new ob(a,d,0,0,g,2),g.setRatio=Mb,g.pr=-11,c=!0,g.b=o,k=$(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),f._tween._duration&&(a.setAttribute("class",g.e),j=_(a,k,$(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)),g}});var Nb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f=this.t.style,g=i.transform.parse;if("all"===this.e)f.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===g?e=!0:c="transformOrigin"===c?yb:i[c].p),Lb(f,c);e&&(Lb(f,wb),this.t._gsTransform&&delete this.t._gsTransform)}};for(sb("clearProps",{parser:function(a,b,d,e,f){return f=new ob(a,d,0,0,f,2),f.setRatio=Nb,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),qb=j.length;qb--;)tb(j[qb]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=W(a,""),f=this._overwriteProps;var i,j,n,p,q,r,s,t,u,v=a.style;if(l&&""===v.zIndex&&(i=X(a,"zIndex",e),("auto"===i||""===i)&&this._addLazySet(v,"zIndex",0)),"string"==typeof b&&(p=v.cssText,i=$(a,e),v.cssText=p+";"+b,i=_(a,i,$(a)).difs,!Q&&w.test(b)&&(i.opacity=parseFloat(RegExp.$1)),b=i,v.cssText=p),this._firstPT=j=this.parse(a,b,null),this._transformType){for(u=3===this._transformType,wb?m&&(l=!0,""===v.zIndex&&(s=X(a,"zIndex",e),("auto"===s||""===s)&&this._addLazySet(v,"zIndex",0)),o&&this._addLazySet(v,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):v.zoom=1,n=j;n&&n._next;)n=n._next;t=new ob(a,"transform",0,0,null,2),this._linkCSSP(t,null,n),t.setRatio=u&&zb?Ib:wb?Jb:Hb,t.data=this._transform||Gb(a,e,!0),f.pop()}if(c){for(;j;){for(r=j._next,n=p;n&&n.pr>j.pr;)n=n._next;(j._prev=n?n._prev:q)?j._prev._next=j:p=j,(j._next=n)?n._prev=j:q=j,j=r}this._firstPT=p}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=X(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&y.test(n)?(q||(n=jb(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=pb(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=cb(a,g,e),o="px"):"left"===g||"top"===g?(j=Z(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(u,"")):(l=parseFloat(n),p=q?n.replace(u,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(r?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=Y(a,g,j,o),"%"===p?(j/=Y(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p?j/=Y(a,g,1,"em"):"px"!==p&&(l=Y(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+j+p)),r&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==s[g]&&(n||"NaN"!=n+""&&null!=n)?(c=new ob(s,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):S("invalid "+g+" tween value: "+b[g]):(c=new ob(s,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=pb(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;e.l>d;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;)2!==e.type?e.t[e.p]=e.e:e.setRatio(a),e=e._next},j._enableTransforms=function(a){this._transform=this._transform||Gb(this._target,e,!0),this._transformType=this._transform.svg&&ub||!a&&3!==this._transformType?2:3};var Ob=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new ob(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ob,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Pb=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Pb(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push($(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Pb(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h=b.to(a,c,d),i=[h],j=[],k=[],l=[],m=b._internals.reservedProps;for(a=h._targets||h.target,Pb(a,j,l),h.render(c,!0),Pb(a,k),h.render(0,!0),h._enabled(!0),e=l.length;--e>-1;)if(f=_(l[e],j[e],k[e]),f.firstMPT){f=f.difs;for(g in d)m[g]&&(f[g]=d[g]);i.push(b.to(l[e],c,f))}return i},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=a.prototype;b._onInitAllProps=function(){for(var a,b,c,d=this._tween,e=d.vars.roundProps instanceof Array?d.vars.roundProps:d.vars.roundProps.split(","),f=e.length,g={},h=d._propLookup.roundProps;--f>-1;)g[e[f]]=1;for(f=e.length;--f>-1;)for(a=e[f],b=d._firstPT;b;)c=b._next,b.pg?b.t._roundProps(g,!0):b.n===a&&(this._add(b.t,a,b.s,b.c),c&&(c._prev=b._prev),b._prev?b._prev._next=c:d._firstPT===b&&(d._firstPT=c),b._next=b._prev=null,d._propLookup[a]=h),b=c;return!1},b._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,!0),this._overwriteProps.push(b)}}(),_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(a,b){var c,d,e;if("function"!=typeof a.setAttribute)return!1;this._target=a,this._proxy={},this._start={},this._end={};for(c in b)this._start[c]=this._proxy[c]=d=a.getAttribute(c),e=this._addTween(this._proxy,c,parseFloat(d),b[c],c),this._end[c]=e?e.s+e.c:b[c],this._overwriteProps.push(c);return!0},set:function(a){this._super.setRatio.call(this,a);for(var b,c=this._overwriteProps,d=c.length,e=1===a?this._end:a?this._proxy:this._start;--d>-1;)b=c[d],this._target.setAttribute(b,e[b]+"")}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(a,b){"object"!=typeof b&&(b={rotation:b}),this.finals={};var c,d,e,f,g,h,i=b.useRadians===!0?2*Math.PI:360,j=1e-6;for(c in b)"useRadians"!==c&&(h=(b[c]+"").split("_"),d=h[0],e=parseFloat("function"!=typeof a[c]?a[c]:a[c.indexOf("set")||"function"!=typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]()),f=this.finals[c]="string"==typeof d&&"="===d.charAt(1)?e+parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)):Number(d)||0,g=f-e,h.length&&(d=h.join("_"),-1!==d.indexOf("short")&&(g%=i,g!==g%(i/2)&&(g=0>g?g+i:g-i)),-1!==d.indexOf("_cw")&&0>g?g=(g+9999999999*i)%i-(0|g/i)*i:-1!==d.indexOf("ccw")&&g>0&&(g=(g-9999999999*i)%i-(0|g/i)*i)),(g>j||-j>g)&&(this._addTween(a,c,e,e+g,c),this._overwriteProps.push(c)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d){var e=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(e,a),e},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=.5*f*f*r):(f=2*(1-c),e=.5*f*f*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&b.t>=a;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a||1,this._p2=b||d,this._p3=this._p2/g*(Math.asin(1/this._p1)||0)},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*g/this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2))},.3),d("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2):.5*this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)
}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!c.TweenLite){var d,e,f,g,h,i=function(a){var b,d=a.split("."),e=c;for(b=0;d.length>b;b++)e[d[b]]=e=e[d[b]]||{};return e},j=i("com.greensock"),k=1e-10,l=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},m=function(){},n=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),o={},p=function(d,e,f,g){this.sc=o[d]?o[d].sc:[],o[d]=this,this.gsClass=null,this.func=f;var h=[];this.check=function(j){for(var k,l,m,n,q=e.length,r=q;--q>-1;)(k=o[e[q]]||new p(e[q],[])).gsClass?(h[q]=k.gsClass,r--):j&&k.sc.push(this);if(0===r&&f)for(l=("com.greensock."+d).split("."),m=l.pop(),n=i(l.join("."))[m]=this.gsClass=f.apply(f,h),g&&(c[m]=n,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return n}):d===b&&"undefined"!=typeof module&&module.exports&&(module.exports=n)),q=0;this.sc.length>q;q++)this.sc[q].check()},this.check(!0)},q=a._gsDefine=function(a,b,c,d){return new p(a,b,c,d)},r=j._class=function(a,b,c){return b=b||function(){},q(a,[],function(){return b},c),b};q.globals=c;var s=[0,0,1,1],t=[],u=r("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?s.concat(b):s},!0),v=u.map={},w=u.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),k=i.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=i[k],e=d?r("easing."+f,null,!0):j.easing[f]||{},g=l.length;--g>-1;)h=l[g],v[f+"."+h]=v[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(f=u.prototype,f._calcEnd=!1,f.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},d=["Linear","Quad","Cubic","Quart","Quint,Strong"],e=d.length;--e>-1;)f=d[e]+",Power"+e,w(new u(null,null,1,e),f,"easeOut",!0),w(new u(null,null,2,e),f,"easeIn"+(0===e?",easeNone":"")),w(new u(null,null,3,e),f,"easeInOut");v.linear=j.easing.Linear.easeIn,v.swing=j.easing.Quad.easeInOut;var x=r("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});f=x.prototype,f.addEventListener=function(a,b,c,d,e){e=e||0;var f,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)f=j[i],f.c===b&&f.s===c?j.splice(i,1):0===k&&e>f.pr&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==g||h||g.wake()},f.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},f.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var y=a.requestAnimationFrame,z=a.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},B=A();for(d=["ms","moz","webkit","o"],e=d.length;--e>-1&&!y;)y=a[d[e]+"RequestAnimationFrame"],z=a[d[e]+"CancelAnimationFrame"]||a[d[e]+"CancelRequestAnimationFrame"];r("Ticker",function(a,b){var c,d,e,f,i,j=this,l=A(),n=b!==!1&&y,o=500,p=33,q="tick",r=function(a){var b,g,h=A()-B;h>o&&(l+=h-p),B+=h,j.time=(B-l)/1e3,b=j.time-i,(!c||b>0||a===!0)&&(j.frame++,i+=b+(b>=f?.004:f-b),g=!0),a!==!0&&(e=d(r)),g&&j.dispatchEvent(q)};x.call(j),j.time=j.frame=0,j.tick=function(){r(!0)},j.lagSmoothing=function(a,b){o=a||1/k,p=Math.min(b,o,0)},j.sleep=function(){null!=e&&(n&&z?z(e):clearTimeout(e),d=m,e=null,j===g&&(h=!1))},j.wake=function(){null!==e?j.sleep():j.frame>10&&(B=A()-o+5),d=0===c?m:n&&y?y:function(a){return setTimeout(a,0|1e3*(i-j.time)+1)},j===g&&(h=!0),r(2)},j.fps=function(a){return arguments.length?(c=a,f=1/(c||60),i=this.time+f,void j.wake()):c},j.useRAF=function(a){return arguments.length?(j.sleep(),n=a,void j.fps(c)):n},j.fps(a),setTimeout(function(){n&&(!e||5>j.frame)&&j.useRAF(!1)},1500)}),f=j.Ticker.prototype=new j.events.EventDispatcher,f.constructor=j.Ticker;var C=r("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,R){h||g.wake();var c=this.vars.useFrames?Q:R;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});g=C.ticker=new j.Ticker,f=C.prototype,f._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;var D=function(){h&&A()-B>2e3&&g.wake(),setTimeout(D,2e3)};D(),f.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},f.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},f.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},f.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},f.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},f.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},f.render=function(){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},f.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&c+this.totalDuration()/this._timeScale>a},f._enabled=function(a,b){return h||g.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},f._kill=function(){return this._enabled(!1,!1)},f.kill=function(a,b){return this._kill(a,b),this},f._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},f._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},f.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=n(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},f.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},f.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},f.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},f.totalTime=function(a,b,c){if(h||g.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(this.render(a,b,!1),I.length&&S())}return this},f.progress=f.totalProgress=function(a,b){return arguments.length?this.totalTime(this.duration()*a,b):this._time/this.duration()},f.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},f.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||k,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},f.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){h||a||g.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=this.isActive(),!a&&0!==d&&this._initted&&this.duration()&&this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var E=r("core.SimpleTimeline",function(a){C.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});f=E.prototype=new C,f.constructor=E,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._recent=a,this._timeline&&this._uncache(!0),this},f._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},f.rawTime=function(){return h||g.wake(),this._totalTime};var F=r("TweenLite",function(b,c,d){if(C.call(this,c,d),this.render=F.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:F.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?P[F.defaultOverwrite]:"number"==typeof i?i>>0:P[i],(h||b instanceof Array||b.push&&n(b))&&"number"!=typeof b[0])for(this._targets=g=l(b),this._propLookup=[],this._siblings=[],e=0;g.length>e;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(l(f))):(this._siblings[e]=T(f,this,!1),1===i&&this._siblings[e].length>1&&V(f,this,null,1,this._siblings[e])):(f=g[e--]=F.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=T(b,this,!1),1===i&&this._siblings.length>1&&V(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-k,this.render(-this._delay))},!0),G=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},H=function(a,b){var c,d={};for(c in a)O[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!L[c]||L[c]&&L[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};f=F.prototype=new C,f.constructor=F,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,F.version="1.15.1",F.defaultEase=f._ease=new u(null,null,1,1),F.defaultOverwrite="auto",F.ticker=g,F.autoSleep=!0,F.lagSmoothing=function(a,b){g.lagSmoothing(a,b)},F.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(F.selector=c,c(b)):"undefined"==typeof document?b:document.querySelectorAll?document.querySelectorAll(b):document.getElementById("#"===b.charAt(0)?b.substr(1):b)};var I=[],J={},K=F._internals={isArray:n,isSelector:G,lazyTweens:I},L=F._plugins={},M=K.tweenLookup={},N=0,O=K.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},P={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Q=C._rootFramesTimeline=new E,R=C._rootTimeline=new E,S=K.lazyRender=function(){var a,b=I.length;for(J={};--b>-1;)a=I[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);I.length=0};R._startTime=g.time,Q._startTime=g.frame,R._active=Q._active=!0,setTimeout(S,1),C._updateRoot=F.render=function(){var a,b,c;if(I.length&&S(),R.render((g.time-R._startTime)*R._timeScale,!1,!1),Q.render((g.frame-Q._startTime)*Q._timeScale,!1,!1),I.length&&S(),!(g.frame%120)){for(c in M){for(b=M[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete M[c]}if(c=R._first,(!c||c._paused)&&F.autoSleep&&!Q._first&&1===g._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||g.sleep()}}},g.addEventListener("tick",C._updateRoot);var T=function(a,b,c){var d,e,f=a._gsTweenID;if(M[f||(a._gsTweenID=f="t"+N++)]||(M[f]={target:a,tweens:[]}),b&&(d=M[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return M[f].tweens},U=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=F.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},V=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||U(h,b)&&h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var j,l=b._startTime+k,m=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||W(b,0,o),0===W(h,j,o)&&(m[n++]=h)):l>=h._startTime&&h._startTime+h.totalDuration()/h._timeScale>l&&((o||!h._initted)&&2e-10>=l-h._startTime||(m[n++]=h)));for(f=n;--f>-1;)if(h=m[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!U(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},W=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*k>f-b?k:(f+=a.totalDuration()/a._timeScale/e)>b+k?0:f-b-k};f._init=function(){var a,b,c,d,e,f=this.vars,g=this._overwrittenProps,h=this._duration,i=!!f.immediateRender,j=f.ease;if(f.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in f.startAt)e[d]=f.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=i&&f.lazy!==!1,e.startAt=e.delay=null,this._startAt=F.to(this.target,0,e),i)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(f.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(i=!1),c={};for(d in f)O[d]&&"autoCSS"!==d||(c[d]=f[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=i&&f.lazy!==!1,c.immediateRender=i,this._startAt=F.to(this.target,0,c),i){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=j=j?j instanceof u?j:"function"==typeof j?new u(j,f.easeParams):v[j]||F.defaultEase:F.defaultEase,f.easeParams instanceof Array&&j.config&&(this._ease=j.config.apply(j,f.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],g?g[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,g);if(b&&F._onPluginEvent("_onInitAllProps",this),g&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),f.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=f.onUpdate,this._initted=!0},f._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;J[b._gsTweenID]&&S(),this.vars.css||b.style&&b!==a&&b.nodeType&&L.css&&this.vars.autoCSS!==!1&&H(this.vars,b);for(f in this.vars){if(k=this.vars[f],O[f])k&&(k instanceof Array||k.push&&n(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(L[f]&&(i=new L[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&V(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(J[b._gsTweenID]=!0),h)},f.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>j||j===k&&"isPause"!==this.data)&&j!==a&&(c=!0,j>k&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:k);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0&&j!==k)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==k||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:k)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var l=a/i,m=this._easeType,n=this._easePower;(1===m||3===m&&l>=.5)&&(l=1-l),3===m&&(l*=2),1===n?l*=l:2===n?l*=l*l:3===n?l*=l*l*l:4===n&&(l*=l*l*l*l),this.ratio=1===m?1-l:2===m?l:.5>a/i?l/2:1-l/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,I.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||t))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||t)),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||t),0===i&&this._rawPrevTime===k&&g!==k&&(this._rawPrevTime=0))}},f._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:F.selector(b)||b;var d,e,f,g,h,i,j,k,l;if((n(b)||G(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d])&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(F.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if(!U(this,c,b,l))return!1}for(f in j)(g=h[f])&&(g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},f.invalidate=function(){return this._notifyPluginsOfEnabled&&F._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],C.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-k,this.render(-this._delay)),this},f._enabled=function(a,b){if(h||g.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=T(d[c],this,!0);else this._siblings=T(this.target,this,!0)}return C.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?F._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},F.to=function(a,b,c){return new F(a,b,c)},F.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new F(a,b,c)},F.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new F(a,b,d)},F.delayedCall=function(a,b,c,d,e){return new F(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},F.set=function(a,b){return new F(a,0,b)},F.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:F.selector(a)||a;var c,d,e,f;if((n(a)||G(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(F.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=T(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},F.killTweensOf=F.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=F.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var X=r("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=X.prototype},!0);if(f=X.prototype,X.version="1.10.1",X.API=2,f._firstPT=null,f._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},f.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=Math.round(b):d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},f._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},f._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},F._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},X.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===X.API&&(L[(new a[b])._propName]=a[b]);return!0},q.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=r("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){X.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new X(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,X.activate([g]),g},d=a._gsQueue){for(e=0;d.length>e;e++)d[e]();for(f in o)o[f].func||a.console.log("GSAP encountered missing dependency: com.greensock."+f)}h=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var a=document.documentElement,b=window,c=function(c,d){var e="x"===d?"Width":"Height",f="scroll"+e,g="client"+e,h=document.body;return c===b||c===a||c===h?Math.max(a[f],h[f])-(b["inner"+e]||a[g]||h[g]):c[f]-c["offset"+e]},d=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.5",init:function(a,d,e){return this._wdw=a===b,this._target=a,this._tween=e,"object"!=typeof d&&(d={y:d}),this.vars=d,this._autoKill=d.autoKill!==!1,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=d.x?(this._addTween(this,"x",this.x,"max"===d.x?c(a,"x"):d.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=d.y?(this._addTween(this,"y",this.y,"max"===d.y?c(a,"y"):d.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(a){this._super.setRatio.call(this,a);var d=this._wdw||!this.skipX?this.getX():this.xPrev,e=this._wdw||!this.skipY?this.getY():this.yPrev,f=e-this.yPrev,g=d-this.xPrev;this._autoKill&&(!this.skipX&&(g>7||-7>g)&&c(this._target,"x")>d&&(this.skipX=!0),!this.skipY&&(f>7||-7>f)&&c(this._target,"y")>e&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?b.scrollTo(this.skipX?d:this.x,this.skipY?e:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),e=d.prototype;d.max=c,e.getX=function(){return this._wdw?null!=b.pageXOffset?b.pageXOffset:null!=a.scrollLeft?a.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},e.getY=function(){return this._wdw?null!=b.pageYOffset?b.pageYOffset:null!=a.scrollTop?a.scrollTop:document.body.scrollTop:this._target.scrollTop},e._kill=function(a){return a.scrollTo_x&&(this.skipX=!0),a.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,a)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){function b(b,c,d,e){var f=b.text(),g=f.split(c),h="";g.length&&(a(g).each(function(a,b){h+='<span class="'+d+(a+1)+'" aria-hidden="true">'+b+"</span>"+e}),b.attr("aria-label",f).empty().append(h))}var c={init:function(){return this.each(function(){b(a(this),"","char","")})},words:function(){return this.each(function(){b(a(this)," ","word"," ")})},lines:function(){return this.each(function(){var c="eefec303079ad17405c889e092e105b0";b(a(this).children("br").replaceWith(c).end(),c,"line","")})}};a.fn.lettering=function(b){return b&&c[b]?c[b].apply(this,[].slice.call(arguments,1)):"letters"!==b&&b?(a.error("Method "+b+" does not exist on jQuery.lettering"),this):c.init.apply(this,[].slice.call(arguments,0))}}(jQuery);var MicroCache=function(){var a={};return{get:function(b){return a[b]},contains:function(b){return b in a},remove:function(b){delete a[b]},set:function(b,c){a[b]=c},values:function(){return a},getSet:function(a,b){return this.contains(a)||this.set(a,"function"==typeof b?b():b),this.get(a)}}};"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroCache);var CAPS={camera:null,solo:!1,quality:"high"},quality=1,lastQuality=1,container,scene,renderer,light,ball,plane,bottle,bottlecaps,axes,initEventHandling,initScene,WIDTH,HEIGHT,planeWIDTH,planeHEIGHT,fps,fpsStat,elements=[],playedCaps=null,mouse_position=new THREE.Vector3,block_offset=new THREE.Vector3,_i,_v3=new THREE.Vector3,intersect_plane,lookatobj,pilone,mouse,mouse3D=new THREE.Vector3,vlPlayedCaps=null,_nullVector=new THREE.Vector3(0,0,0),DCMP=new THREE.Vector3(0,0,0),_natVector=new THREE.Vector3(1,1,1),onRenderFcts=[],lastTimeMsec=null,capsYpos=110,movingCaps=null,clock=new THREE.Clock,dir,distance,holdingDown=!1,$capsTypo,$startTypo,$winTypo,$loseTypo,$perfectTypo;Physijs.scripts.worker="/js/physijs/physijs_worker.js",Physijs.scripts.ammo="ammo.js",WIDTH=window.innerWidth,HEIGHT=window.innerHeight;var playerDistance=100,globalDirection=1,capModelscale=1.6,texture,composer,DPR=window.devicePixelRatio||1;initScene=function(){container=document.getElementById("viewport"),scene=new Physijs.Scene,scene.setGravity(new THREE.Vector3(0,-80,0)),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0,precision:"lowp",devicePixelRatio:DPR}),renderer.setPixelRatio(DPR),DPR>1?(renderer.setViewport(0,0,WIDTH/2,HEIGHT/2),renderer.setSize(WIDTH/1.5,HEIGHT/1.5),$(renderer.domElement).css({width:WIDTH,height:HEIGHT})):(renderer.setSize(WIDTH,HEIGHT),renderer.setViewport(0,0,WIDTH,HEIGHT)),renderer.shadowMapEnabled=!1,renderer.shadowMapSoft=!1,renderer.shadowMapType=THREE.PCFShadowMap,renderer.shadowMapAutoUpdate=!1,renderer.gammaInput=!0,renderer.gammaOutput=!0,container.appendChild(renderer.domElement),create_camera(),create_lights(),create_table(),Viensla.initialize(),Player.initialize(),lookatobj=Viensla.bottle,scene.simulate(),initEventHandling(),create_caps_group(),$plpart.addClass(Game.Player.caps),$("#versus-bar .pl").addClass(Game.Player.caps),Player.capmat=caps_material[Game.Player.caps].clone(),Player.stickermat=sticker_materials[Game.Player.caps].clone(),Player.bottle.material.color=Player.capmat.materials[1].color,Player.changeSticker(),Viensla.changeBottle(Game.Enemy.caps),fpsStat=new FPS,Party.create(),render(),setPower()},CAPS.launchGame=function(){loadBottleTools(),window.addEventListener("resize",onWindowResize,!1),$plpart.find("h3 span").text(Game.Player.name),$vlpart.find("h3 span").text(Game.Enemy.name),$("#reset-party-c h4").find("span").text(Game.Enemy.name),$("#quality").click(function(){$(this).toggleClass("low"),CAPS.quality=$(this).hasClass("low")?"low":"high",onWindowResize()});for(var a=0;a<Party.capsPerTurn;a++)$(".capsstock").append('<span class="animated zoomIn"></span>');$plpart.find(".capsstock span").click(function(){Viensla.isPlaying||($(this).removeClass().addClass("animated zoomOut"),Party.plplay(),Player.totalLaunched<4&&Interface.capTuto.hide())})},$(window).load(function(){});var playerCamera={},vlCamera={},camera,lookat,VIEW_ANGLE=75,ASPECT=WIDTH/HEIGHT,NEAR=.1,FAR=1e4;
capCollision=function(a,b){var c=this;if(c.collisions++,!c.floating){var d=a.name,e=Math.abs(b.x)+Math.abs(b.y)+Math.abs(b.z);switch(d){case"level":"player"==c.name&&e>60&&Snds.playSd("simpletap2");break;case"tapis":e>60&&Snds.playSd("simpletap1");break;case"floor":e>60&&Snds.playSd("simpletap3");break;case"vlCap":"player"==c.name&&(a.collided=!0,a.__dirty_postion=!0,Snds.playSd("capcap"));break;case"plCap":"viensla"==c.name&&(a.collided=!0,a.__dirty_postion=!0,Snds.playSd("capcap"));break;case"vlBottle":e>60&&Snds.playSd("clink");break;case"plBottle":e>60&&Snds.playSd("clink");break;case"":}}};var power=0,speedbar=2,powerDir=speedbar,strengh=6,playerstrengh=5;initEventHandling=function(){var a,b,c,d=new THREE.Vector3,e=new THREE.Vector3,f=new THREE.Vector3;return a=function(){playedCaps&&(holdingDown=!0,power=0,$(".powerbar").fadeIn())},b=function(a){var b=a.clientX,c=a.clientY,d={};$(".powerbar").css({left:b+50,top:c-50}),mouse3D.set(b/window.innerWidth*2-1,2*-(c/window.innerHeight)+1.07,1),mouse3D.unproject(camera),dir=mouse3D.sub(camera.position).normalize(),distance=-camera.position.z/dir.z,d=camera.position.clone().add(dir.multiplyScalar(distance/2)),d.z=playerDistance*globalDirection,playedCaps&&(DCMP=d)},c=function(){if(playedCaps){holdingDown=!1,playedCaps.__dirtyPosition=!0,playedCaps.floating=!1;var a=[3*Math.random()+4,3*Math.random()+4,3*Math.random()+4];e.set(1,1,1),f.set(a[0],a[1],a[2]),playedCaps.setAngularFactor(e),playedCaps.setLinearFactor(e),d.set(1,1,-power*playerstrengh*globalDirection),playedCaps.setLinearVelocity(d),playedCaps.setAngularVelocity(f),playedCaps.position.copy(DCMP),playedCaps=null,CAPS.solo?setTimeout(function(){Party.resetStocks(),Party.vlplay()},3e3):Game.Player.playerLaunch({x:DCMP.x,y:DCMP.y,z:-DCMP.z,pwr:power,rdms:a}),power=0,$(".powerbar").fadeOut(),Player.launched++,Player.totalLaunched++,Player.isPlaying=!1,Viensla.isPlaying=!0,Party.setTurn(),Party.resetStocks()}},function(){renderer.domElement.addEventListener("mousedown",a),renderer.domElement.addEventListener("mousemove",b),renderer.domElement.addEventListener("mouseup",c)}}();var darkbrown=12424258,mediumbrown=11502654,lightbrown=16372607,lightestbrown=16767112,brown=15971924,tablebrown=16039265,tablefootbrown=13806677,tapisbrown=11502654,cblue=6793921,cyellow=16241731,cgreen=7908704,cred=12674922,corange=16564261,ptpgrey=5854550,ptpyellow=16639858,beerColors={chimey:3046655,foster:1454722,lef:16436244,pelle:15876417,chouffe:5086272,ptp:16091953},shadowColors={chimey:3242707,foster:1322598,lef:15582232,pelle:14174280,chouffe:6197575,ptp:15369279},FPS=function(){var a=a||!1,b=a&&a.now?a.now.bind(a):Date.now,c=b(),d=c,e=0,f=0,g=0,h=0,i=0;return{begin:function(){c=b()},end:function(){var a=b();return e++,a>d+1e3&&(f=Math.round(1e3*e/(a-d)),d=a,i++,g+=f,h=g/i,e=0),a},update:function(){return c=this.end(),{fps:f,med:h}}}},timeoutRobot,Party={isPlaying:!1,capsPerTurn:1,lives:60,create:function(){Viensla.generateCaps(),Viensla.score=Player.score=Viensla.launched=Player.launched=0,Viensla.lives=Player.lives=Party.lives,Party.isPlaying=!0,this.resetStocks(),CAPS.solo?(Viensla.isPlaying=!1,Player.isPlaying=!0):(Viensla.isPlaying="Player"==Game.role,Player.isPlaying="Host"==Game.role),$vlpart.fadeIn(function(){Party.setLife()}),$plpart.fadeIn(),Player.generateCaps(),Interface.txtoRdy||Interface.textoBox.init(),setTimeout(function(){$("#game-loader .tiny-loader").addClass("fade"),setTimeout(function(){$("#game-loader").addClass("fade"),setTimeout(function(){$("#game-loader").remove(),animTypo($startTypo),Party.setTurn(),Snds.fadInSd("ambiance"),Snds.playSd("open")},500)},1e3)},2e3)},resetParty:function(){var a=$("#reset-party-c");Viensla.score=Player.score=Viensla.launched=Player.launched=0,Viensla.lives=Player.lives=Party.lives,Player.drunked=1,Party.isPlaying=!0,Party.setLife(),CAPS.solo&&(Viensla.isPlaying=!1,Player.isPlaying=!0),Party.setTurn(),TweenMax.to(a,1,{opacity:0,onComplete:function(){TweenMax.set(a,{display:"none"}),animTypo($startTypo),Snds.playSd("open"),TweenMax.set(a.find("h4"),{scale:.5,opacity:0,height:0})}})},setTurn:function(){Player.isPlaying?($("#versus-bar #cursor").removeClass().addClass("lf"),TweenMax.to($("#you-turn"),1.5,{x:40,opacity:1,ease:Elastic.easeOut.config(1,.4),delay:1.8}),TweenMax.to($("#you-turn"),1,{x:-170,opacity:0,ease:Elastic.easeOut.config(1,.4),delay:4.5}),Player.totalLaunched<3&&Interface.capTuto.show()):$("#versus-bar #cursor").removeClass().addClass("rg")},vlplay:function(){this.isPlaying&&CAPS.solo&&Viensla.launched<Party.capsPerTurn&&!Player.isPlaying&&($vlpart.find(".capsstock span").eq(Viensla.launched).removeClass().addClass("animated zoomOut"),Viensla.isPlaying=!0,Player.isPlaying=!1,Viensla.launchCaps(),Viensla.launched++,Viensla.totalLaunched++,Player.isPlaying=!0,Player.launched=0,Viensla.isPlaying=!1,Party.setTurn(),this.resetStocks())},plplay:function(){this.isPlaying&&Player.launched<Party.capsPerTurn&&!Viensla.isPlaying&&(globalDirection=1,create_caps("pl"),Player.isPlaying=!0,Viensla.isPlaying=!1)},vlcaps:function(){this.isPlaying&&(Viensla.isPlaying=!1,Player.isPlaying=!0,Viensla.score++,Player.drunked+=2,Player.lives-=10,this.animCaps(),Viensla.launched<Party.capsPerTurn-1&&setTimeout(function(){Party.resetStocks()},2e3),setTimeout(function(){Player.generateCaps()},2e3),Party.setLife())},plcaps:function(){this.isPlaying&&(Player.score++,Viensla.lives-=10,Player.isPlaying=!1,Viensla.isPlaying=!0,Game.Player.playerCaps(),0==Viensla.lives&&Player.lives==Party.lives?animTypo($perfectTypo):this.animCaps(),setTimeout(function(){Viensla.generateCaps()},2e3),Party.setLife())},resetStocks:function(){this.isPlaying&&($(".capsstock span.zoomOut").removeClass("zoomOut").addClass("zoomIn"),Viensla.launched=0,Player.launched=0),Player.drunked>11&&(Player.drunked-=2)},setLife:function(){if(this.isPlaying){var a=Math.round(Player.lives/Party.lives*100),b=Math.round(Viensla.lives/Party.lives*100);$plpart.find(".life").height(a+"%"),$vlpart.find(".life").height(b+"%"),(0>=a||0>=b)&&(Party.isPlaying=!1,setTimeout(function(){0>=a?(animTypo($loseTypo,800),Snds.playSd("lose"),setTimeout(Snds.playSd("clairon"),3e3),$("#reset-party-c").removeClass().addClass("looser").find("h3").text("Une petite revanche ?"),CAPS.solo&&(Viensla.imprecision+=2)):0>=b&&(animTypo($winTypo,800),Snds.playSd("win"),$("#reset-party-c").removeClass().addClass("winner").find("h3").text("On prendra bien la ptite soeur ?"),setTimeout(Snds.playSd("applause"),3e3),Viensla.imprecision=Math.max(0,Viensla.imprecision-2)),TweenMax.to($("#reset-party-c"),1,{opacity:1,display:"block",delay:3})},1600))}},animCaps:function(){animTypo($capsTypo)}},generatedNames=["Sac à bière","Maître Brasseur","Chuck Boris","Vomito","Fredo Mercure","The Undertaker","Capsulator","Golden Capseur","Jean Cirrhose","Jean-Michel Pinte","BURP","Boitsanssoif","Pillier d'comptoir","Bièrelusconi","Edouard Bière","L'incapssable"],autoMessages,poteRelou,Interface={$currentPart:null,curIndex:0,multiRdy:!1,pickNameRdy:!1,pickCapsRdy:!1,gameRdy:!1,txtoRdy:!1,capTuto:null,init:function(){$plpart=$(".pl-part"),$vlpart=$(".vl-part"),$capsTypo=$("#caps-m"),$startTypo=$("#start-m"),$winTypo=$("#win-m"),$loseTypo=$("#lose-m"),$perfectTypo=$("#perfect-m"),this.resize(),this.initWelcome(),this.initResetParty(),this.initMenu(),this.hdr.init(),window.addEventListener("resize",Interface.resize,!1),Snds.init(),this.capTuto=$plpart.find(".cap-tuto"),this.capTuto.show=function(){TweenMax.fromTo(Interface.capTuto,.5,{scale:0,opacity:0},{scale:1,opacity:1,ease:Elastic.easeOut.config(1,.4),delay:1.8})},this.capTuto.hide=function(){TweenMax.to(Interface.capTuto,.5,{scale:0,opacity:0})}},resize:function(){$("section.sc").css({height:window.innerHeight,lineHeight:window.innerHeight+"px"}),$("#wrapper").css({width:window.innerWidth,height:window.innerHeight}),TweenLite.set($("#site-content"),{y:-Interface.curIndex*window.innerHeight})},navigate:function(a){3==a?(this.pickNameRdy||this.initPickName(),CAPS.solo||(this.hdr.multiPartyLaunched=!0)):4==a?this.pickCapsRdy||this.initCapsSelect():6==a&&(this.gameRdy||setTimeout(CAPS.launchGame,400)),1==a||3==a||4==a?(this.hdr.show(),this.hdr.multiPartyLaunched&&3==a?this.hdr.hideBt():this.hdr.showBt()):this.hdr.hide(),TweenLite.to($("#site-content"),.3,{y:-a*window.innerHeight}),this.curIndex=a},navigateBack:function(){var a=0,b=Interface.curIndex;3==b&&CAPS.solo||1==b?a=0:4==b&&(a=3),this.navigate(a)},initWelcome:function(){var a=$("#welcome"),b=a.find(".cp-pelle"),c=a.find(".cp-foster"),d=a.find(".logo"),e=a.find(".water"),f=a.find("#bt-play-solo"),g=a.find("#bt-play-online"),h=$("#bt-back-global");this.$currentPart=a;var i=[new TimelineMax({paused:!0,repeat:-1,yoyo:!0}),new TimelineMax({paused:!0,repeat:-1,yoyo:!0}),new TimelineMax({paused:!0,repeat:-1,yoyo:!0}),new TimelineMax({paused:!0,repeat:-1,yoyo:!0})],j=8;i[0].add(TweenMax.fromTo(b,j,{x:-5,y:0,rotation:0,scale:.85},{x:-15,y:-10,rotation:6,scale:1})),i[1].add(TweenMax.fromTo(c,j,{x:0,y:0,rotation:0,scale:.85},{x:8,y:-4,rotation:-6,scale:1})),i[2].add(TweenMax.fromTo(d,j,{x:0,y:0,rotation:0,scale:.9},{x:8,y:3,rotation:4,scale:1})),i[3].add(TweenMax.fromTo(e,j,{x:0,y:0,rotation:0,scale:.8},{x:0,y:0,rotation:-4,scale:1})),setTimeout(function(){i[0].play(),i[1].play(),i[2].play(),i[3].play()},1e3),initializeParty(),f.click(function(){CAPS.solo=!0,$("#wrapper").addClass("solo"),Interface.navigate(3)}),g.click(function(){CAPS.solo=!1,$("#wrapper").removeClass("solo"),Interface.navigate(1),Interface.multiRdy||Interface.initMulti()}),h.click(function(){Interface.navigateBack()})},initMulti:function(a){if(this.multiRdy=!0,a)$("#join-code").val(a),Game.Player.onPlayerStartClick();else{var b=$("#multiplayer"),c=b.find("#host-party"),d=b.find("#start-party"),e=b.find("#join-party");$("#host-codes .box").click(function(){$(this).find("input").select()}),c.on("click",Game.Host.onCreateClick),e.on("click",Game.Player.onPlayerStartClick),d.on("click",Game.Player.onPlayerStartClick)}},initPickName:function(){this.pickNameRdy=!0;var a,b=$("#pickname"),c=b.find("#bt-generate-name"),d=b.find("#bt-send-name"),e=generatedNames.slice();d.on("click",function(){Game.Player.name=$("#input-player-name").val()||generatedNames[Math.round(Math.random()*(generatedNames.length-1))],Interface.navigate(4)}),c.on("click",function(){clearInterval(a);var b=Math.round(Math.random()*(e.length-1)),c=e.splice(b,1).toString(),d="",f=0,g=$("#input-player-name");a=setInterval(function(){d+=c.charAt(f),g.val(d),f++,f==c.length&&clearInterval(a)},30),0==e.length&&(e=generatedNames.slice())})},initCapsSelect:function(){function a(a){var c=a>h;d.eq(h).addClass(c?"lf":"rg"),d.eq(a).removeClass("lf rg"),d.slice(a+1).addClass("na").removeClass("lf").addClass("rg").removeClass("na"),d.slice(0,a).addClass("na").removeClass("rg").addClass("lf").removeClass("na"),5==a?d.eq(0).addClass("na").removeClass("lf").addClass("rg").removeClass("na"):0==a&&d.eq(5).addClass("na").removeClass("rg").addClass("lf").removeClass("na"),Game.Player.caps=d.eq(a).attr("id"),b(a),h=a}function b(a){f.removeClass(),f.eq(a).addClass("act"),e.removeClass("act"),e.eq(a).addClass("act"),j.removeClass("ptp chouffe pelle foster lef chimey").addClass(k[a])}this.pickCapsRdy=!0;var c=$("#beer-slide-c"),d=c.find(".cap-list li"),e=$("#beer-bg-slider li"),f=c.find(".nav-bottle li"),g=c.find(".arw"),h=0,i=$("#bt-send-caps"),j=$("#beer-bg-slider .blc-msk"),k=["ptp","chouffe","pelle","foster","lef","chimey"];f.click(function(){var b=$(this).index();a(b)}),g.click(function(){var b=0;b=$(this).hasClass("lf-arw")?0==h?5:h-1:5==h?0:h+1,a(b)}),CAPS.solo?i.on("click",function(){Interface.navigate(6)}):i.on("click",Game[Game.role].sendPlayerInfo)},textoBox:{$sdBox:null,$rdBox:null,tm:null,init:function(){if(Interface.txtoRdy=!0,autoMessages=["<p>Maman :</p><p>encore.au.bar?bisou.maman</p>","<p>Chaton <3 :</p><p>"+Game.Player.name+", c'est fini nous deux, je pars avec Clem.</p>","<p>Soeurette :</p><p>Qu'est-ce que tu fous "+Game.Player.name+" ?! Tout le monde t'attend au mariage de Tata Jacqueline !</p>","<p>Boss :</p><p>Bonsoir, j'attends votre présentation demain matin à 6h pétante sur mon bureau.</p>","<p>PizzaPingui :</p><p>Dépechez vous ! Pour deux pizzas thon patate mayo achetées, la troisième offerte !</p>","<p>Banque Populass :</p><p>Alerte auto - Vous avez dépassé les 5000€ de découvert autorisé.</p>","<p>Tony CAZANASS :</p><p>Crois pas que tu vas t'en tirer comme ça "+Game.Player.name+", on tient ta mère !</p>","<p>Ben :</p><p>Yo gro bien ? dsl mai ta pas 100 balle à m'depanne ?</p>","<p>6917 :</p><p>Envoie VIENSLA au 6917 et rencontre les personnes HOT de ton quartier !</p>"],poteRelou=["<p>Alex:</p><p>Alors tu viens plus au soirée ?</p>","<p>Alex:</p><p>Apéro ce soir ?</p>","<p>Alex:</p><p>Alors, ça sort ce soir ?</p>","<p>Alex:</p><p>Allooooooooo</p>","<p>Alex:</p><p>???????</p>"],this.$sdBox=$("#sd-messages-box"),this.$rcBox=$("#rc-messages-box"),CAPS.solo){$("#txto-sd").remove();var a=setInterval(function(){autoMessages.length>0||poteRelou.length>0?Interface.textoBox.showTexto(0):clearInterval(a)},3e4+1e4*Math.random())}var b=this.$rcBox,c=1e4;this.$sdBox.on("click","li",function(){var a=$(this).index();Game.Player.playerMessage(a),$("#txto-sd").addClass("disabled"),setTimeout(function(){$("#txto-sd").removeClass("disabled")},c)}),this.tm=new TimelineMax({paused:!0}),this.tm.to(b,0,{width:0,height:0,opacity:0}).to(b,.3,{width:250,height:3,opacity:1,ease:Elastic.easeOut.config(1,.4)},.1).to(b,.3,{height:90,ease:Elastic.easeOut.config(1,.4)}),TweenLite.set(b,{width:0,height:0,opacity:0})},showTexto:function(a){var b,c=7500,d=this.$rcBox;if(CAPS.solo)if((Math.random()>.3||0==poteRelou.length)&&autoMessages.length>0){var e=Math.round(Math.random()*(autoMessages.length-1));b=autoMessages[e],autoMessages.splice(e,1)}else poteRelou.length>0&&(b=poteRelou[0],poteRelou.splice(0,1));else b="<p>"+Game.Enemy.name+" :</p>"+this.$sdBox.find("li div").eq(a).html();d.find(".center").empty().append(b),d.find("p").lettering(),d.find("span").css({opacity:0}),phone&&phone.receiveMessage(),setTimeout(function(){Interface.textoBox.tm.play(),setTimeout(function(){var a=0,b=setInterval(function(){TweenLite.set(d.find("span").eq(a),{opacity:1}),a++,a==d.find("span").length&&clearInterval(b)},.4)},1e3),setTimeout(function(){var a=d.find("span").length-1,b=a,c=setInterval(function(){TweenLite.set(d.find("span").eq(b),{opacity:0}),b--,-1==b&&clearInterval(c)},.2);setTimeout(function(){Interface.textoBox.tm.reverse(),setTimeout(function(){phone.closeMessage()},800)},10*(a-1))},c)},1e3)}},initResetParty:function(){var a=$("#reset-party-c"),b=a.find("h3"),c=a.find("h4");TweenMax.set(c,{scale:.5,opacity:0,height:0}),a.find("#bt-reset-party").click(function(){CAPS.solo?Party.resetParty():(Game.Player.playerReset(),a.addClass("loading"),TweenMax.to(b,.4,{scale:.5,opacity:0,onComplete:function(){b.text("En attente de ton adversaire..."),TweenMax.to(b,.4,{scale:1,opacity:1,delay:.5,ease:Elastic.easeOut.config(1,.4)})}}))}),a.find("#bt-quit-reset").click(function(){Game.Player.playerQuit(),window.location=location.href.replace(location.hash,"")})},initMenu:function(){function a(){TweenMax.to($("footer"),.5,{opacity:0}),TweenMax.to(f,.7,{opacity:0,onComplete:function(){TweenMax.to(b,.3,{opacity:1}),TweenMax.set(f,{display:"none"}),g.addClass("hidden"),TweenMax.set(c,{scale:1,opacity:1}),TweenMax.set(f.find(".pause-logo"),{scale:1,opacity:1}),g.filter("#home-pause").removeClass("hidden"),$("footer").hide()}})}var b=$("#bt-menu"),c=$("#bt-close-menu"),d=$("#bt-close-tuto"),e=$("#lk-quit"),f=$("#pause-menu"),g=f.find(".volet"),h=f.find("#quit-pause"),i=h.find(".bt");b.click(function(){TweenMax.to(f,.7,{opacity:1,display:"block"}),TweenMax.to(b,.3,{opacity:0}),TweenMax.to($("footer"),.5,{display:"block",opacity:1})}),f.find("#lk-about").click(function(){g.addClass("hidden"),g.filter("#about-pause").removeClass("hidden")}),f.find("#lk-tuto").click(function(){g.addClass("hidden"),g.filter("#tuto-pause").removeClass("hidden"),TweenMax.to(c,.5,{opacity:0}),TweenMax.to(f.find(".pause-logo"),.5,{scale:0,opacity:0,ease:Elastic.easeOut.config(1,.4)}),0==Player.totalLaunched&&TweenMax.to($plpart.find(".cap-tuto"),.5,{scale:0,opacity:0,ease:Elastic.easeOut.config(1,.4)})}),f.find(".back").click(function(){g.addClass("hidden"),TweenMax.to(f.find(".pause-logo"),.5,{scale:1,opacity:1}),g.filter("#home-pause").removeClass("hidden")}),$(c).click(a),$(d).click(a),e.click(function(){g.addClass("hidden"),h.removeClass("hidden")}),i.click(function(){$(this).hasClass("no")?(g.addClass("hidden"),TweenMax.to(f.find(".pause-logo"),.5,{scale:1,opacity:1}),g.filter("#home-pause").removeClass("hidden")):window.location=location.href.replace(location.hash,"")})},hdr:{$logo:null,$bt:null,active:!0,multiPartyLaunched:!1,init:function(){this.$logo=$("header h1"),this.$bt=$("header .bt"),$("header").hide(),this.hide()},show:function(){$("header").show(),TweenMax.to(Interface.hdr.$logo,.5,{scale:1,opacity:1,ease:Elastic.easeOut.config(1,.4)}),TweenMax.to($("footer"),.5,{display:"block",opacity:1})},hide:function(){TweenMax.to($("footer"),.5,{opacity:0}),TweenMax.to(Interface.hdr.$logo,.3,{scale:0,opacity:0,onComplete:function(){$("header").hide(),$("footer").hide()}}),this.hideBt()},hideBt:function(){TweenMax.to(Interface.hdr.$bt,.3,{x:-50,opacity:0,onComplete:function(){Interface.hdr.$bt.hide()}}),this.active=!1},showBt:function(){Interface.hdr.$bt.show(),TweenMax.to(Interface.hdr.$bt,.5,{x:0,opacity:1,ease:Elastic.easeOut.config(1,.4)}),this.active=!1}}};planeWIDTH=170,planeHEIGHT=600;var tableSurfaceDim=[150,5,30],tablefootSurfaceDim=[140,55,2],level,_floor,_tapis,_tablefoot,_table,_wall,_bar,phone,phoneLight,lightScreen,dust=[],caps_group=[],pointlightbar,hemiLight,caps_material,sticker_materials,mat_caps_foster,mat_caps_chimey,mat_caps_pelle,mat_caps_lef,mat_caps_chouffe,mat_caps_ptp,geo_caps,bottle_geo,bottle_mat,socket=io.connect(),canvas,ctx,Game,$plpart,$vlpart,CreateMutliplayerParty;initializeParty=function(){var a={init:function(){a.socket=socket,a.bindEvents()},bindEvents:function(){a.socket.on("connected",a.onConnection),a.socket.on("newGameCreated",a.onNewGameCreated),a.socket.on("playerJoinedRoom",a.playerJoinedRoom),a.socket.on("createNewPlayer",a.createNewPlayer),a.socket.on("startParty",a.onStartParty),a.socket.on("hostReady",Game.Player.hostReady),a.socket.on("playerUpdateMove",Game.Host.playerUpdateMove),a.socket.on("playerUpdateLaunch",Game.Host.playerUpdateLaunch),a.socket.on("getEnemyInfo",Game.Host.showEnemy),a.socket.on("enemyChooseBottle",Game.Host.enemyChooseBottle),a.socket.on("enemyCaps",Game.Host.enemyCaps),a.socket.on("enemyMessage",Game.Host.enemyMessage),a.socket.on("playerAskReset",Game.Host.playerAskReset),a.socket.on("playerAskQuit",Game.Host.playerAskQuit),a.socket.on("getHostInfo",Game.Player.getHostInfo),a.socket.on("error",a.error)},onConnection:function(){Game.socketId=a.socket.socket.sessionid},onNewGameCreated:function(a){Game.Host.gameInit(a)},playerJoinedRoom:function(a){Game[Game.role].updateWaitingScreen(a)},createNewPlayer:function(){},onStartParty:function(a){Game[Game.role].showPartyScreen(a)},error:function(a){alert(a.message)}};Game={gameId:0,role:"",socketId:"",partyOn:!1,nbPlayers:0,hostReady:!1,init:function(){Game.cacheScreens(),Game.bindEvents(),Game.showIntroTpl()},bindEvents:function(){},cacheScreens:function(){Game.$doc=$(document),Game.$area=$("#game-area"),Game.$tplIntroScreen=$("#intro-screen-template").html(),Game.$tplNewGame=$("#new-game-screen-template").html(),Game.$tplJoinGame=$("#join-game-template").html(),Game.$tplGamerScreen=$("#gamer-screen-template").html(),Game.$tplPartyScreen=$("#party-screen-template").html()},showIntroTpl:function(){},Host:{players:[],numPlayersInRoom:0,resetPlayer:0,onCreateClick:function(){a.socket.emit("hostCreateNewGame")},gameInit:function(a){Game.gameId=a.gameId,Game.socketId=a.socketId,Game.Player.socketId=a.socketId,Game.role="Host",Game.Host.numPlayersInRoom=0,Game.Host.displayNewGameScreen()},displayNewGameScreen:function(){$("#room-code").val(Game.gameId),$("#room-code-lk").val(window.location.href.replace("www.","")+"#"+Game.gameId),$(".wait-section .wt-party-code").addClass("act").find("span").text(Game.gameId),$("#host-part").addClass("rdy"),$("#multiplayer").addClass("hosting")},updateWaitingScreen:function(b){$("#playersWaiting").append("<p>Player "+b.playerName+" joined the game.</p>"),Game.Host.players.push(b),Game.Host.numPlayersInRoom+=1,Game.hostReady=!0,Game.Host.numPlayersInRoom>1&&(Interface.curIndex<3&&Interface.navigate(3),a.socket.emit("hostRoomReady",{gameId:Game.gameId,hostReady:Game.hostReady}))},onStartPartyClick:function(){a.socket.emit("hostStartParty",{gameId:Game.gameId,socketId:Game.Player.socketId,hostPlayer:Game.Host.players})},showPartyScreen:function(){},sendPlayerInfo:function(){Game.Player.name=$("#input-player-name").val()||"Anonymous";var b={gameId:Game.gameId,name:Game.Player.name,caps:Game.Player.caps,playerID:Game.socketId};a.socket.emit("hostSendInfo",b),Game.Player.ready=!0,$(".wait-section .wt-party-code").removeClass("act"),Interface.navigate(Game.Enemy.ready?6:5)},showEnemy:function(a){"Host"==Game.role&&Game.Player.socketId!=a.playerID&&(Game.Enemy.name=a.name,Game.Enemy.id=a.playerID)},playerUpdateMove:function(a){a.playerID==Game.Enemy.id&&(Viensla.livePos.x=-a.pos.x,Viensla.livePos.y=a.pos.y,Viensla.livePos.z=a.pos.z,Viensla.liveVector=new THREE.Vector3(Viensla.livePos.x,Viensla.livePos.y,Viensla.livePos.z))},playerUpdateLaunch:function(a){a.playerID==Game.Enemy.id&&(Viensla.livePos.x=-a.shot.x,Viensla.livePos.y=a.shot.y,Viensla.livePos.z=a.shot.z,Viensla.liveVector=new THREE.Vector3(Viensla.livePos.x,Viensla.livePos.y,Viensla.livePos.z),Viensla.shootCaps(a.shot))},enemyChooseBottle:function(a){a.playerID==Game.Enemy.id&&Viensla.changeBottle(a.bottle)},enemyCaps:function(a){a.playerID==Game.Enemy.id&&Player.drink()},enemyMessage:function(a){a.playerID==Game.Enemy.id&&Interface.textoBox.showTexto(a.im)},playerAskReset:function(a){Game.Host.resetPlayer++,Game.Host.resetPlayer>1?(Game.Host.resetPlayer=0,Party.resetParty()):a.playerID==Game.Enemy.id&&TweenMax.to($("#reset-party-c h4.again"),.4,{scale:1,opacity:1,height:30,lineHeight:"30px"})},playerAskQuit:function(a){a.playerID==Game.Enemy.id&&(TweenMax.to($("#reset-party-c h4.quit"),.4,{scale:1,opacity:1,height:30,lineHeight:"30px"}),TweenMax.to($("#reset-party-c #bt-reset-party"),.4,{scale:0,opacity:0}),TweenMax.to($("#reset-party-c #bt-quit-reset"),.4,{y:-120}))}},Player:{hostSocketId:"",name:"",socketId:"",caps:"ptp",ready:!1,onJoinClick:function(){Game.$area.html(Game.$tplJoinGame)},onPlayerStartClick:function(){var b={gameId:"Host"==Game.role?Game.gameId:$("#join-code").val(),playerName:"Host"==Game.role?"Host":"Player",x:0,y:0};Interface.hdr.hideBt(),CAPS.solo=!1,"Host"==Game.role?Interface.navigate(1==Game.Host.numPlayersInRoom?3:2):Game.role="Player",a.socket.emit("playerJoinGame",b)},updateWaitingScreen:function(b){a.socket.socket.sessionid===b.socketId?(Game.role="Player",Game.gameId=b.gameId,Game.Player.socketId=b.socketId,$("#playerWaitingMessage").text("Joined Game "+b.gameId+". Please wait for game to begin."),Interface.navigate(b.hostReady&&Interface.curIndex<3?3:2)):b.hostReady&&Interface.curIndex<3&&Interface.navigate(3)},hostReady:function(b){a.socket.socket.sessionid!=b.socketId&&Game.Player.updateWaitingScreen({hostReady:!0,socketId:null})},showPartyScreen:function(){},getHostInfo:function(a){Game.Player.socketId!=a.playerID&&(Game.Enemy.name=a.name,Game.Enemy.id=a.playerID,Game.Enemy.caps=a.caps,Game.Enemy.ready=!0,Game.Player.ready&&Interface.navigate(6))},sendPlayerInfo:function(){var b={gameId:Game.gameId,name:Game.Player.name,caps:Game.Player.caps,playerID:Game.Player.socketId};a.socket.emit("hostSendInfo",b),Game.Player.ready=!0,Interface.navigate(Game.Enemy.ready?6:5)},playerMoving:function(b){a.socket.emit("playerMove",{playerName:Game.Player.name,playerID:Game.Player.socketId,gameId:Game.gameId,pos:b})},playerLaunch:function(b){a.socket.emit("playerShoot",{playerName:Game.Player.name,playerID:Game.Player.socketId,gameId:Game.gameId,shot:b})},playerChooseBottle:function(b){a.socket.emit("playerChooseBottle",{gameId:Game.gameId,playerID:Game.Player.socketId,bottle:b})},playerCaps:function(){a.socket.emit("playerCaps",{gameId:Game.gameId,playerID:Game.Player.socketId})},playerMessage:function(b){a.socket.emit("playerMessage",{gameId:Game.gameId,playerID:Game.Player.socketId,im:b})},playerReset:function(){a.socket.emit("playerReset",{gameId:Game.gameId,playerID:Game.Player.socketId})},playerQuit:function(){a.socket.emit("playerQuit",{gameId:Game.gameId,playerID:Game.Player.socketId})}},Enemy:{id:null,name:"PayeTaPinte",caps:"ptp",ready:!1}},a.init(),Game.init()};var Player={score:0,launched:0,isPlaying:!0,totalLaunched:0,lives:0,drunked:1,capmat:null,stickermat:null,outline:"",pos:{x:0,y:50,z:112},sticker:null,initialize:function(){this.capmat||(this.capmat=caps_material.chimey.clone()),this.stickermat||(this.stickermat=new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/beers/stickers/chimais.png"),side:2,transparent:!0,opacity:1}));var a=new THREE.MeshBasicMaterial({color:Player.capmat.materials[1].color,side:2});bottle_geo.buffersNeedUpdate=!0,bottle_geo.uvsNeedUpdate=!0,this.bottle=new Physijs.CylinderMesh(bottle_geo,a,0,{friction:.1,restitution:.1}),this.bottle.scale.set(10,12,10),this.bottle.castShadow=!1,this.bottle.receiveShadow=!0,this.bottle.name="plBottle";var b=new THREE.MeshBasicMaterial({color:Player.capmat.materials[1].color,transparent:!0,opacity:0}),c=[b,b,b,b,Player.stickermat,b];this.sticker=new Physijs.BoxMesh(new THREE.BoxGeometry(.8,1,.1),new THREE.MeshFaceMaterial(c),0),this.sticker.position.x=0,this.sticker.position.y=-.3,this.sticker.position.z=.5;var d=new THREE.MeshBasicMaterial({color:shadowColors[Game.Player.caps],side:2}),e=new Physijs.CylinderMesh(bottle_geo,d,0,{friction:.1,restitution:.1});e.position.x=-.03,e.position.z=.01;var f=new Physijs.CylinderMesh(new THREE.CylinderGeometry(2,2,1,6,6),new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0}),0);f.position.x=0,f.position.y=tablefootSurfaceDim[1]+tablefootSurfaceDim[1]/2+45,f.position.z=110,scene.add(f),Player.bottle.add(e),Player.bottle.add(Player.sticker),Player.place({x:0,z:110}),Player.generateBottle()},changeSticker:function(){var a=new THREE.MeshBasicMaterial({transparent:!0,opacity:0}),b=[a,a,a,a,Player.stickermat,a];this.sticker.material=new THREE.MeshFaceMaterial(b)},place:function(a){this.bottle.position.y=tablefootSurfaceDim[1]+tablefootSurfaceDim[1]/2+23,this.bottle.position.x=a.x,this.bottle.position.z=a.z},generateBottle:function(){scene.add(Player.bottle)},generateCaps:function(){this.bottlecaps=new Physijs.CylinderMesh(geo_caps,Player.capmat,.3,{friction:0,restitution:1}),this.bottlecaps.castShadow=!0,this.bottlecaps.receiveShadow=!0,this.bottlecaps.scale.set(capModelscale,capModelscale,capModelscale),this.bottlecaps.rotation.x=Math.PI,this.bottlecaps.position.y=Player.bottle.position.y+23,this.bottlecaps.position.x=Player.bottle.position.x,this.bottlecaps.position.z=Player.bottle.position.z;var a=new Physijs.CylinderMesh(new THREE.CylinderGeometry(1.5,1.5,0,32,32),new THREE.MeshLambertMaterial({color:Player.capmat.materials[1].color,transparent:!0,opacity:1}),0);a.position.x=0,a.position.y=.3,a.position.z=0;var b=new Physijs.CylinderMesh(new THREE.CylinderGeometry(3,3,1,32,32),new THREE.MeshLambertMaterial({transparent:!0,opacity:0}),.1);this.bottlecaps.add(b),this.bottlecaps.add(a),this.bottlecaps.name="plCap",this.bottlecaps.collided=!1,scene.add(Player.bottlecaps)},drink:function(){Party.vlcaps()}},perfectShoot=[{y:130,x:-2,pwr:35},{y:110,x:-1,pwr:75},{y:130,x:2,pwr:35},{y:180,x:-2,pwr:21}],Viensla={score:0,launched:0,totalLaunched:0,isPerfect:!1,imprecision:16,isPlaying:!1,isShooting:!1,lives:0,capmat:null,livePos:{x:0,y:0,z:-90},liveVector:null,initialize:function(){this.capmat||(this.capmat=caps_material.ptp.clone());var a=Physijs.createMaterial(new THREE.MeshBasicMaterial({color:Viensla.capmat.materials[1].color,shininess:10,side:2}));this.bottle=new Physijs.CylinderMesh(bottle_geo,a,0,{friction:.1,restitution:.1}),this.bottle.scale.set(10,12,10),this.bottle.castShadow=!1,this.bottle.receiveShadow=!0,this.bottle.name="vlBottle";var b=new Physijs.CylinderMesh(new THREE.CylinderGeometry(2,2,1,6,6),new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0}),0);b.position.x=0,b.position.y=tablefootSurfaceDim[1]+tablefootSurfaceDim[1]/2+45,b.position.z=-110,scene.add(b),Viensla.place({x:0,z:-110}),Viensla.generateBottle()},place:function(a){this.bottle.position.y=tablefootSurfaceDim[1]+tablefootSurfaceDim[1]/2+23,this.bottle.position.x=a.x,this.bottle.position.z=a.z},generateBottle:function(){scene.add(Viensla.bottle)},generateCursor:function(){this.cursor=new THREE.Mesh(new THREE.SphereGeometry(2,32,32),new THREE.MeshBasicMaterial({color:Viensla.capmat.materials[1].color,shininess:10,side:2})),this.cursor.position.y=Viensla.livePos.y,this.cursor.position.x=Viensla.livePos.x,this.cursor.position.z=Viensla.livePos.z,scene.add(Viensla.cursor)},generateCaps:function(){this.bottlecaps=new Physijs.CylinderMesh(geo_caps,Viensla.capmat,.3,{friction:0,restitution:1}),this.bottlecaps.castShadow=!0,this.bottlecaps.receiveShadow=!0,this.bottlecaps.scale.set(capModelscale,capModelscale,capModelscale),this.bottlecaps.rotation.x=Math.PI,this.bottlecaps.position.y=Viensla.bottle.position.y+23,this.bottlecaps.position.x=Viensla.bottle.position.x,this.bottlecaps.position.z=Viensla.bottle.position.z;var a=new Physijs.CylinderMesh(new THREE.CylinderGeometry(2,2,.4,10,10),Physijs.createMaterial(new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0})),0);a.position.x=0,a.position.y=1,a.position.z=0;var b=new Physijs.CylinderMesh(new THREE.CylinderGeometry(1.5,1.5,0,32,32),new THREE.MeshLambertMaterial({color:Viensla.capmat.materials[1].color,transparent:!0,opacity:1}),0);b.position.x=0,b.position.y=.3,b.position.z=0;var c=new Physijs.CylinderMesh(new THREE.CylinderGeometry(3,3,1,32,32),new THREE.MeshLambertMaterial({transparent:!0,opacity:0}),.1);this.bottlecaps.add(c),this.bottlecaps.add(b),this.bottlecaps.name="vlCap",this.bottlecaps.collided=!1,scene.add(Viensla.bottlecaps)},shootCaps:function(a){Viensla.isPlaying=!0,Player.isPlaying=!1;var b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Vector3;globalDirection=-1,e.set(Viensla.livePos.x,Viensla.livePos.y,Viensla.livePos.z),create_caps("vl"),playedCaps.position.copy(e),playedCaps.__dirtyPosition=!0,playedCaps.floating=!1,c.set(1,1,1),d.set(-a.rdms[0],a.rdms[1],a.rdms[2]),playedCaps.setAngularFactor(c),playedCaps.setLinearFactor(c),b.set(1,1,-a.pwr*playerstrengh*globalDirection),playedCaps.setLinearVelocity(b),playedCaps.setAngularVelocity(d),playedCaps=null,Viensla.totalLaunched++,setTimeout(function(){Viensla.isPlaying=!1,Player.isPlaying=!0,Party.setTurn()},500)},launchCaps:function(){Viensla.isPlaying=!0,Player.isPlaying=!1;var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3,e=20*Math.random()+80,f=10*Math.random()-5,g=Math.round(3*Math.random());if(g=perfectShoot[g],globalDirection=-1,power=Math.round(g.pwr+(Math.random()-.5)*Viensla.imprecision),e=Math.round(g.y+(Math.random()-.5)*Viensla.imprecision),f=Math.round(g.x+(Math.random()-.5)*Viensla.imprecision),Viensla.isPerfect){var h=Math.round(3*Math.random());e=perfectShoot[h].y,f=perfectShoot[h].x,power=perfectShoot[h].pwr}e+=25,d.set(f,e,playerDistance*globalDirection+40),create_caps("vl"),playedCaps.position.copy(d),playedCaps.__dirtyPosition=!0,playedCaps.floating=!1,b.set(1,1,1),c.set(10*Math.random(),10*Math.random(),20*Math.random()),playedCaps.setAngularFactor(b),playedCaps.setLinearFactor(b),a.set(1,-3,-power*strengh*globalDirection),playedCaps.setLinearVelocity(a),playedCaps.setAngularVelocity(c),playedCaps=null
},changeBottle:function(a){$vlpart.removeClass("chimey foster ptp lef pelle chouffe"),$vlpart.addClass(a),$("#versus-bar .vl").addClass(a),Viensla.capmat=caps_material[a],Viensla.bottle.material.color=Viensla.capmat.materials[1].color}},extSnd=".mp3",path="assets/sounds/",Snds={ambiance:new Audio(path+"ambiance"+extSnd),simpletap1:new Audio(path+"choc_simple_1"+extSnd),simpletap2:new Audio(path+"choc_simple_2"+extSnd),simpletap3:new Audio(path+"choc_simple_3"+extSnd),clink:new Audio(path+"clink"+extSnd),capcap:new Audio(path+"caps"+extSnd),open:new Audio(path+"open"+extSnd),pschit2:new Audio(path+"pschit_2"+extSnd),win:new Audio(path+"you-win"+extSnd),lose:new Audio(path+"you-lose"+extSnd),vibreur:new Audio(path+"vibreur"+extSnd),clairon:new Audio(path+"fail"+extSnd),applause:new Audio(path+"applause"+extSnd),mute:!1,init:function(){var a=$("#mute");a.on("click",function(){$(this).toggleClass("off"),Snds.mute=!Snds.mute,Snds.ambiance.muted=Snds.mute}),Snds.simpletap1.volume=.4,Snds.simpletap2.volume=.4,Snds.simpletap3.volume=.4,Snds.clink.volume=.4,Snds.vibreur.volume=.5,Snds.ambiance.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),Snds.ambiance.load(),Snds.playSd=function(a){Snds.mute||(Snds[a].currentTime=0,Snds[a].play(),Snds[a].isPlaying=!0)},Snds.fadeSd=function(a,b){var c;"undefined"==typeof b&&(b=0),Snds[a].isFading||(Snds[a].isFading=!0,Snds.mute||(c=setInterval(function(){Snds[a].volume>b+.05?Snds[a].volume-=.05:(Snds[a].volume=b,clearInterval(c),Snds[a].isFading=!1)},200)))},Snds.fadInSd=function(a){var b;Snds[a].isFading||(Snds[a].isFading=!0,Snds[a].volume=0,Snds[a].play(),Snds.mute||(b=setInterval(function(){Snds[a].volume<.3?Snds[a].volume+=.05:(clearInterval(b),Snds[a].isFading=!1)},300)))}}};